name: fedimint-dev
root: .
socket_name: fedimint-dev
pre_window:
  - source .tmpenv
  - alias lightning-cli="\$FM_LIGHTNING_CLI"
  - alias lncli="\$FM_LNCLI"
  - alias bitcoin-cli="\$FM_BTC_CLIENT"
  - alias fedimint-cli="\$FM_MINT_CLIENT"
  - alias gateway-cln="\$FM_GWCLI_CLN"
  - alias gateway-lnd="\$FM_GWCLI_LND"
  - alias mint_rpc_client="\$FM_MINT_RPC_CLIENT"
  - alias dbtool="\$FM_DB_TOOL"
  # - alias restart="./scripts/restart-tmux.sh"
  - source scripts/lib.sh
  - tmux_pane_title_setup
tmux_detached: false
windows:
  - shell:
      panes:
        - shell:
          - tmux_pane_title shell 0 shell
          - source scripts/tmux-user-shell.sh
  - federation:
      panes:
        - fedimintd-0:
          - tmux_pane_title federation 0 fedimintd-0
          - tail -n +0 -F $FM_LOGS_DIR/fedimintd-0.log
        - fedimintd-1:
          - tmux_pane_title federation 1 fedimintd-1
          - tail -n +0 -F $FM_LOGS_DIR/fedimintd-1.log
        - fedimintd-2:
          - tmux_pane_title federation 2 fedimintd-2
          - tail -n +0 -F $FM_LOGS_DIR/fedimintd-2.log
        - fedimintd-3:
          - tmux_pane_title federation 3 fedimintd-3
          - tail -n +0 -F $FM_LOGS_DIR/fedimintd-3.log
  - lightning:
      panes:
        - cln:
          - tmux_pane_title lightning 0 cln
          - tail -n +0 -F $FM_LOGS_DIR/lightningd.log
        - lnd:
          - tmux_pane_title lightning 1 lnd
          - tail -n +0 -F $FM_LOGS_DIR/lnd.log
        - cln-gw:
          - tmux_pane_title lightning 2 cln-gw
          - tail -n +0 -F $FM_LOGS_DIR/gatewayd-cln.log
        - lnd-gw:
          - tmux_pane_title lightning 3 lnd-gw
          - tail -n +0 -F $FM_LOGS_DIR/gatewayd-lnd.log
  - bitcoin:
      panes:
        - bitcoind:
          - tmux_pane_title bitcoin 0 bitcoind
          - tail -n +0 -F $FM_LOGS_DIR/bitcoind.log
