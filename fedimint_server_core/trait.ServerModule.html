<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `ServerModule` trait in crate `fedimint_server_core`."><title>ServerModule in fedimint_server_core - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../static.files/rustdoc-916cea96.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="fedimint_server_core" data-themes="" data-resource-suffix="" data-rustdoc-version="1.87.0-nightly (1aeb99d24 2025-03-19)" data-channel="nightly" data-search-js="search-e7298875.js" data-settings-js="settings-d72f25bb.js" ><script src="../static.files/storage-d8ac8691.js"></script><script defer src="sidebar-items.js"></script><script defer src="../static.files/main-fb8c74a8.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-044be391.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../fedimint_server_core/index.html">fedimint_<wbr>server_<wbr>core</a><span class="version">0.8.0-alpha</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Server<wbr>Module</a></h2><h3><a href="#required-associated-types">Required Associated Types</a></h3><ul class="block"><li><a href="#associatedtype.Common" title="Common">Common</a></li><li><a href="#associatedtype.Init" title="Init">Init</a></li></ul><h3><a href="#required-methods">Required Methods</a></h3><ul class="block"><li><a href="#tymethod.api_endpoints" title="api_endpoints">api_endpoints</a></li><li><a href="#tymethod.audit" title="audit">audit</a></li><li><a href="#tymethod.consensus_proposal" title="consensus_proposal">consensus_proposal</a></li><li><a href="#tymethod.output_status" title="output_status">output_status</a></li><li><a href="#tymethod.process_consensus_item" title="process_consensus_item">process_consensus_item</a></li><li><a href="#tymethod.process_input" title="process_input">process_input</a></li><li><a href="#tymethod.process_output" title="process_output">process_output</a></li></ul><h3><a href="#provided-methods">Provided Methods</a></h3><ul class="block"><li><a href="#method.decoder" title="decoder">decoder</a></li><li><a href="#method.module_kind" title="module_kind">module_kind</a></li><li><a href="#method.verify_input" title="verify_input">verify_input</a></li></ul><h3><a href="#dyn-compatibility">Dyn Compatibility</a></h3><h3><a href="#implementors">Implementors</a></h3></section><div id="rustdoc-modnav"><h2 class="in-crate"><a href="index.html">In crate fedimint_<wbr>server_<wbr>core</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="index.html">fedimint_server_core</a></div><h1>Trait <span class="trait">ServerModule</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../src/fedimint_server_core/lib.rs.html#35-197">Source</a> </span></div><pre class="rust item-decl"><code>pub trait ServerModule: <a class="trait" href="https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> {
    type <a href="#associatedtype.Common" class="associatedtype">Common</a>: <a class="trait" href="../fedimint_core/module/trait.ModuleCommon.html" title="trait fedimint_core::module::ModuleCommon">ModuleCommon</a>;
    type <a href="#associatedtype.Init" class="associatedtype">Init</a>: <a class="trait" href="trait.ServerModuleInit.html" title="trait fedimint_server_core::ServerModuleInit">ServerModuleInit</a>;

    // Required methods
    fn <a href="#tymethod.consensus_proposal" class="fn">consensus_proposal</a>&lt;'a, 'life0, 'life1, 'async_trait&gt;(
        &amp;'a self,
        dbtx: &amp;'life0 mut <a class="struct" href="../fedimint_core/db/struct.DatabaseTransaction.html" title="struct fedimint_core::db::DatabaseTransaction">DatabaseTransaction</a>&lt;'life1&gt;,
    ) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;&lt;Self::<a class="associatedtype" href="trait.ServerModule.html#associatedtype.Common" title="type fedimint_server_core::ServerModule::Common">Common</a> as <a class="trait" href="../fedimint_core/module/trait.ModuleCommon.html" title="trait fedimint_core::module::ModuleCommon">ModuleCommon</a>&gt;::<a class="associatedtype" href="../fedimint_core/module/trait.ModuleCommon.html#associatedtype.ConsensusItem" title="type fedimint_core::module::ModuleCommon::ConsensusItem">ConsensusItem</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;
       <span class="where">where Self: 'async_trait,
             'a: 'async_trait,
             'life0: 'async_trait,
             'life1: 'async_trait</span>;
<span class="item-spacer"></span>    fn <a href="#tymethod.process_consensus_item" class="fn">process_consensus_item</a>&lt;'a, 'b, 'life0, 'async_trait&gt;(
        &amp;'a self,
        dbtx: &amp;'life0 mut <a class="struct" href="../fedimint_core/db/struct.DatabaseTransaction.html" title="struct fedimint_core::db::DatabaseTransaction">DatabaseTransaction</a>&lt;'b&gt;,
        consensus_item: &lt;Self::<a class="associatedtype" href="trait.ServerModule.html#associatedtype.Common" title="type fedimint_server_core::ServerModule::Common">Common</a> as <a class="trait" href="../fedimint_core/module/trait.ModuleCommon.html" title="trait fedimint_core::module::ModuleCommon">ModuleCommon</a>&gt;::<a class="associatedtype" href="../fedimint_core/module/trait.ModuleCommon.html#associatedtype.ConsensusItem" title="type fedimint_core::module::ModuleCommon::ConsensusItem">ConsensusItem</a>,
        peer_id: <a class="struct" href="../fedimint_core/peer_id/struct.PeerId.html" title="struct fedimint_core::peer_id::PeerId">PeerId</a>,
    ) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="type" href="https://docs.rs/anyhow/1.0.98/anyhow/type.Result.html" title="type anyhow::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;
       <span class="where">where Self: 'async_trait,
             'a: 'async_trait,
             'b: 'async_trait,
             'life0: 'async_trait</span>;
<span class="item-spacer"></span>    fn <a href="#tymethod.process_input" class="fn">process_input</a>&lt;'a, 'b, 'c, 'life0, 'async_trait&gt;(
        &amp;'a self,
        dbtx: &amp;'life0 mut <a class="struct" href="../fedimint_core/db/struct.DatabaseTransaction.html" title="struct fedimint_core::db::DatabaseTransaction">DatabaseTransaction</a>&lt;'c&gt;,
        input: &amp;'b &lt;Self::<a class="associatedtype" href="trait.ServerModule.html#associatedtype.Common" title="type fedimint_server_core::ServerModule::Common">Common</a> as <a class="trait" href="../fedimint_core/module/trait.ModuleCommon.html" title="trait fedimint_core::module::ModuleCommon">ModuleCommon</a>&gt;::<a class="associatedtype" href="../fedimint_core/module/trait.ModuleCommon.html#associatedtype.Input" title="type fedimint_core::module::ModuleCommon::Input">Input</a>,
        in_point: <a class="struct" href="../fedimint_core/struct.InPoint.html" title="struct fedimint_core::InPoint">InPoint</a>,
    ) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../fedimint_core/module/struct.InputMeta.html" title="struct fedimint_core::module::InputMeta">InputMeta</a>, &lt;Self::<a class="associatedtype" href="trait.ServerModule.html#associatedtype.Common" title="type fedimint_server_core::ServerModule::Common">Common</a> as <a class="trait" href="../fedimint_core/module/trait.ModuleCommon.html" title="trait fedimint_core::module::ModuleCommon">ModuleCommon</a>&gt;::<a class="associatedtype" href="../fedimint_core/module/trait.ModuleCommon.html#associatedtype.InputError" title="type fedimint_core::module::ModuleCommon::InputError">InputError</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;
       <span class="where">where Self: 'async_trait,
             'a: 'async_trait,
             'b: 'async_trait,
             'c: 'async_trait,
             'life0: 'async_trait</span>;
<span class="item-spacer"></span>    fn <a href="#tymethod.process_output" class="fn">process_output</a>&lt;'a, 'b, 'life0, 'async_trait&gt;(
        &amp;'a self,
        dbtx: &amp;'life0 mut <a class="struct" href="../fedimint_core/db/struct.DatabaseTransaction.html" title="struct fedimint_core::db::DatabaseTransaction">DatabaseTransaction</a>&lt;'b&gt;,
        output: &amp;'a &lt;Self::<a class="associatedtype" href="trait.ServerModule.html#associatedtype.Common" title="type fedimint_server_core::ServerModule::Common">Common</a> as <a class="trait" href="../fedimint_core/module/trait.ModuleCommon.html" title="trait fedimint_core::module::ModuleCommon">ModuleCommon</a>&gt;::<a class="associatedtype" href="../fedimint_core/module/trait.ModuleCommon.html#associatedtype.Output" title="type fedimint_core::module::ModuleCommon::Output">Output</a>,
        out_point: <a class="struct" href="../fedimint_core/struct.OutPoint.html" title="struct fedimint_core::OutPoint">OutPoint</a>,
    ) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../fedimint_core/module/struct.TransactionItemAmount.html" title="struct fedimint_core::module::TransactionItemAmount">TransactionItemAmount</a>, &lt;Self::<a class="associatedtype" href="trait.ServerModule.html#associatedtype.Common" title="type fedimint_server_core::ServerModule::Common">Common</a> as <a class="trait" href="../fedimint_core/module/trait.ModuleCommon.html" title="trait fedimint_core::module::ModuleCommon">ModuleCommon</a>&gt;::<a class="associatedtype" href="../fedimint_core/module/trait.ModuleCommon.html#associatedtype.OutputError" title="type fedimint_core::module::ModuleCommon::OutputError">OutputError</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;
       <span class="where">where Self: 'async_trait,
             'a: 'async_trait,
             'b: 'async_trait,
             'life0: 'async_trait</span>;
<span class="item-spacer"></span>    fn <a href="#tymethod.output_status" class="fn">output_status</a>&lt;'life0, 'life1, 'life2, 'async_trait&gt;(
        &amp;'life0 self,
        dbtx: &amp;'life1 mut <a class="struct" href="../fedimint_core/db/struct.DatabaseTransaction.html" title="struct fedimint_core::db::DatabaseTransaction">DatabaseTransaction</a>&lt;'life2&gt;,
        out_point: <a class="struct" href="../fedimint_core/struct.OutPoint.html" title="struct fedimint_core::OutPoint">OutPoint</a>,
    ) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&lt;Self::<a class="associatedtype" href="trait.ServerModule.html#associatedtype.Common" title="type fedimint_server_core::ServerModule::Common">Common</a> as <a class="trait" href="../fedimint_core/module/trait.ModuleCommon.html" title="trait fedimint_core::module::ModuleCommon">ModuleCommon</a>&gt;::<a class="associatedtype" href="../fedimint_core/module/trait.ModuleCommon.html#associatedtype.OutputOutcome" title="type fedimint_core::module::ModuleCommon::OutputOutcome">OutputOutcome</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;
       <span class="where">where Self: 'async_trait,
             'life0: 'async_trait,
             'life1: 'async_trait,
             'life2: 'async_trait</span>;
<span class="item-spacer"></span>    fn <a href="#tymethod.audit" class="fn">audit</a>&lt;'life0, 'life1, 'life2, 'life3, 'async_trait&gt;(
        &amp;'life0 self,
        dbtx: &amp;'life1 mut <a class="struct" href="../fedimint_core/db/struct.DatabaseTransaction.html" title="struct fedimint_core::db::DatabaseTransaction">DatabaseTransaction</a>&lt;'life2&gt;,
        audit: &amp;'life3 mut <a class="struct" href="../fedimint_core/module/audit/struct.Audit.html" title="struct fedimint_core::module::audit::Audit">Audit</a>,
        module_instance_id: <a class="type" href="../fedimint_core/core/type.ModuleInstanceId.html" title="type fedimint_core::core::ModuleInstanceId">ModuleInstanceId</a>,
    ) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;
       <span class="where">where Self: 'async_trait,
             'life0: 'async_trait,
             'life1: 'async_trait,
             'life2: 'async_trait,
             'life3: 'async_trait</span>;
<span class="item-spacer"></span>    fn <a href="#tymethod.api_endpoints" class="fn">api_endpoints</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../fedimint_core/module/struct.ApiEndpoint.html" title="struct fedimint_core::module::ApiEndpoint">ApiEndpoint</a>&lt;Self&gt;&gt;;

    // Provided methods
    fn <a href="#method.module_kind" class="fn">module_kind</a>() -&gt; <a class="struct" href="../fedimint_core/core/struct.ModuleKind.html" title="struct fedimint_core::core::ModuleKind">ModuleKind</a> { ... }
<span class="item-spacer"></span>    fn <a href="#method.decoder" class="fn">decoder</a>() -&gt; <a class="struct" href="../fedimint_core/core/struct.Decoder.html" title="struct fedimint_core::core::Decoder">Decoder</a> { ... }
<span class="item-spacer"></span>    fn <a href="#method.verify_input" class="fn">verify_input</a>(
        &amp;self,
        _input: &amp;&lt;Self::<a class="associatedtype" href="trait.ServerModule.html#associatedtype.Common" title="type fedimint_server_core::ServerModule::Common">Common</a> as <a class="trait" href="../fedimint_core/module/trait.ModuleCommon.html" title="trait fedimint_core::module::ModuleCommon">ModuleCommon</a>&gt;::<a class="associatedtype" href="../fedimint_core/module/trait.ModuleCommon.html#associatedtype.Input" title="type fedimint_core::module::ModuleCommon::Input">Input</a>,
    ) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>, &lt;Self::<a class="associatedtype" href="trait.ServerModule.html#associatedtype.Common" title="type fedimint_server_core::ServerModule::Common">Common</a> as <a class="trait" href="../fedimint_core/module/trait.ModuleCommon.html" title="trait fedimint_core::module::ModuleCommon">ModuleCommon</a>&gt;::<a class="associatedtype" href="../fedimint_core/module/trait.ModuleCommon.html#associatedtype.InputError" title="type fedimint_core::module::ModuleCommon::InputError">InputError</a>&gt; { ... }
}</code></pre><h2 id="required-associated-types" class="section-header">Required Associated Types<a href="#required-associated-types" class="anchor">§</a></h2><div class="methods"><section id="associatedtype.Common" class="method"><a class="src rightside" href="../src/fedimint_server_core/lib.rs.html#36">Source</a><h4 class="code-header">type <a href="#associatedtype.Common" class="associatedtype">Common</a>: <a class="trait" href="../fedimint_core/module/trait.ModuleCommon.html" title="trait fedimint_core::module::ModuleCommon">ModuleCommon</a></h4></section><section id="associatedtype.Init" class="method"><a class="src rightside" href="../src/fedimint_server_core/lib.rs.html#38">Source</a><h4 class="code-header">type <a href="#associatedtype.Init" class="associatedtype">Init</a>: <a class="trait" href="trait.ServerModuleInit.html" title="trait fedimint_server_core::ServerModuleInit">ServerModuleInit</a></h4></section></div><h2 id="required-methods" class="section-header">Required Methods<a href="#required-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="tymethod.consensus_proposal" class="method"><a class="src rightside" href="../src/fedimint_server_core/lib.rs.html#72-75">Source</a><h4 class="code-header">fn <a href="#tymethod.consensus_proposal" class="fn">consensus_proposal</a>&lt;'a, 'life0, 'life1, 'async_trait&gt;(
    &amp;'a self,
    dbtx: &amp;'life0 mut <a class="struct" href="../fedimint_core/db/struct.DatabaseTransaction.html" title="struct fedimint_core::db::DatabaseTransaction">DatabaseTransaction</a>&lt;'life1&gt;,
) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;&lt;Self::<a class="associatedtype" href="trait.ServerModule.html#associatedtype.Common" title="type fedimint_server_core::ServerModule::Common">Common</a> as <a class="trait" href="../fedimint_core/module/trait.ModuleCommon.html" title="trait fedimint_core::module::ModuleCommon">ModuleCommon</a>&gt;::<a class="associatedtype" href="../fedimint_core/module/trait.ModuleCommon.html#associatedtype.ConsensusItem" title="type fedimint_core::module::ModuleCommon::ConsensusItem">ConsensusItem</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;<div class="where">where
    Self: 'async_trait,
    'a: 'async_trait,
    'life0: 'async_trait,
    'life1: 'async_trait,</div></h4></section></summary><div class="docblock"><p>This module’s contribution to the next consensus proposal. This method
is only guaranteed to be called once every few seconds. Consensus items
are not meant to be latency critical; do not create them as
a response to a processed transaction. Only use consensus items to
establish consensus on a value that is required to verify
transactions, like unix time, block heights and feerates, and model all
other state changes trough transactions. The intention for this method
is to always return all available consensus items even if they are
redundant while process_consensus_item returns an error for the
redundant proposals.</p>
<p>If you think you actually do require latency critical consensus items or
have trouble designing your module in order to avoid them please contact
the Fedimint developers.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.process_consensus_item" class="method"><a class="src rightside" href="../src/fedimint_server_core/lib.rs.html#84-89">Source</a><h4 class="code-header">fn <a href="#tymethod.process_consensus_item" class="fn">process_consensus_item</a>&lt;'a, 'b, 'life0, 'async_trait&gt;(
    &amp;'a self,
    dbtx: &amp;'life0 mut <a class="struct" href="../fedimint_core/db/struct.DatabaseTransaction.html" title="struct fedimint_core::db::DatabaseTransaction">DatabaseTransaction</a>&lt;'b&gt;,
    consensus_item: &lt;Self::<a class="associatedtype" href="trait.ServerModule.html#associatedtype.Common" title="type fedimint_server_core::ServerModule::Common">Common</a> as <a class="trait" href="../fedimint_core/module/trait.ModuleCommon.html" title="trait fedimint_core::module::ModuleCommon">ModuleCommon</a>&gt;::<a class="associatedtype" href="../fedimint_core/module/trait.ModuleCommon.html#associatedtype.ConsensusItem" title="type fedimint_core::module::ModuleCommon::ConsensusItem">ConsensusItem</a>,
    peer_id: <a class="struct" href="../fedimint_core/peer_id/struct.PeerId.html" title="struct fedimint_core::peer_id::PeerId">PeerId</a>,
) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="type" href="https://docs.rs/anyhow/1.0.98/anyhow/type.Result.html" title="type anyhow::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;<div class="where">where
    Self: 'async_trait,
    'a: 'async_trait,
    'b: 'async_trait,
    'life0: 'async_trait,</div></h4></section></summary><div class="docblock"><p>This function is called once for every consensus item. The function
should return Ok if and only if the consensus item changes
the system state. <em>Therefore this method should return an error in case
of merely redundant consensus items such that they will be purged from
the history of the federation.</em> This enables consensus_proposal to
return all available consensus item without wasting disk
space with redundant consensus items.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.process_input" class="method"><a class="src rightside" href="../src/fedimint_server_core/lib.rs.html#105-110">Source</a><h4 class="code-header">fn <a href="#tymethod.process_input" class="fn">process_input</a>&lt;'a, 'b, 'c, 'life0, 'async_trait&gt;(
    &amp;'a self,
    dbtx: &amp;'life0 mut <a class="struct" href="../fedimint_core/db/struct.DatabaseTransaction.html" title="struct fedimint_core::db::DatabaseTransaction">DatabaseTransaction</a>&lt;'c&gt;,
    input: &amp;'b &lt;Self::<a class="associatedtype" href="trait.ServerModule.html#associatedtype.Common" title="type fedimint_server_core::ServerModule::Common">Common</a> as <a class="trait" href="../fedimint_core/module/trait.ModuleCommon.html" title="trait fedimint_core::module::ModuleCommon">ModuleCommon</a>&gt;::<a class="associatedtype" href="../fedimint_core/module/trait.ModuleCommon.html#associatedtype.Input" title="type fedimint_core::module::ModuleCommon::Input">Input</a>,
    in_point: <a class="struct" href="../fedimint_core/struct.InPoint.html" title="struct fedimint_core::InPoint">InPoint</a>,
) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../fedimint_core/module/struct.InputMeta.html" title="struct fedimint_core::module::InputMeta">InputMeta</a>, &lt;Self::<a class="associatedtype" href="trait.ServerModule.html#associatedtype.Common" title="type fedimint_server_core::ServerModule::Common">Common</a> as <a class="trait" href="../fedimint_core/module/trait.ModuleCommon.html" title="trait fedimint_core::module::ModuleCommon">ModuleCommon</a>&gt;::<a class="associatedtype" href="../fedimint_core/module/trait.ModuleCommon.html#associatedtype.InputError" title="type fedimint_core::module::ModuleCommon::InputError">InputError</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;<div class="where">where
    Self: 'async_trait,
    'a: 'async_trait,
    'b: 'async_trait,
    'c: 'async_trait,
    'life0: 'async_trait,</div></h4></section></summary><div class="docblock"><p>Try to spend a transaction input. On success all necessary updates will
be part of the database transaction. On failure (e.g. double spend)
the database transaction is rolled back and the operation will take
no effect.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.process_output" class="method"><a class="src rightside" href="../src/fedimint_server_core/lib.rs.html#120-125">Source</a><h4 class="code-header">fn <a href="#tymethod.process_output" class="fn">process_output</a>&lt;'a, 'b, 'life0, 'async_trait&gt;(
    &amp;'a self,
    dbtx: &amp;'life0 mut <a class="struct" href="../fedimint_core/db/struct.DatabaseTransaction.html" title="struct fedimint_core::db::DatabaseTransaction">DatabaseTransaction</a>&lt;'b&gt;,
    output: &amp;'a &lt;Self::<a class="associatedtype" href="trait.ServerModule.html#associatedtype.Common" title="type fedimint_server_core::ServerModule::Common">Common</a> as <a class="trait" href="../fedimint_core/module/trait.ModuleCommon.html" title="trait fedimint_core::module::ModuleCommon">ModuleCommon</a>&gt;::<a class="associatedtype" href="../fedimint_core/module/trait.ModuleCommon.html#associatedtype.Output" title="type fedimint_core::module::ModuleCommon::Output">Output</a>,
    out_point: <a class="struct" href="../fedimint_core/struct.OutPoint.html" title="struct fedimint_core::OutPoint">OutPoint</a>,
) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../fedimint_core/module/struct.TransactionItemAmount.html" title="struct fedimint_core::module::TransactionItemAmount">TransactionItemAmount</a>, &lt;Self::<a class="associatedtype" href="trait.ServerModule.html#associatedtype.Common" title="type fedimint_server_core::ServerModule::Common">Common</a> as <a class="trait" href="../fedimint_core/module/trait.ModuleCommon.html" title="trait fedimint_core::module::ModuleCommon">ModuleCommon</a>&gt;::<a class="associatedtype" href="../fedimint_core/module/trait.ModuleCommon.html#associatedtype.OutputError" title="type fedimint_core::module::ModuleCommon::OutputError">OutputError</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;<div class="where">where
    Self: 'async_trait,
    'a: 'async_trait,
    'b: 'async_trait,
    'life0: 'async_trait,</div></h4></section></summary><div class="docblock"><p>Try to create an output (e.g. issue notes, peg-out BTC, …). On success
all necessary updates to the database will be part of the database
transaction. On failure (e.g. double spend) the database transaction
is rolled back and the operation will take no effect.</p>
<p>The supplied <code>out_point</code> identifies the operation (e.g. a peg-out or
note issuance) and can be used to retrieve its outcome later using
<code>output_status</code>.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.output_status" class="method"><a class="src rightside" href="../src/fedimint_server_core/lib.rs.html#141-145">Source</a><h4 class="code-header">fn <a href="#tymethod.output_status" class="fn">output_status</a>&lt;'life0, 'life1, 'life2, 'async_trait&gt;(
    &amp;'life0 self,
    dbtx: &amp;'life1 mut <a class="struct" href="../fedimint_core/db/struct.DatabaseTransaction.html" title="struct fedimint_core::db::DatabaseTransaction">DatabaseTransaction</a>&lt;'life2&gt;,
    out_point: <a class="struct" href="../fedimint_core/struct.OutPoint.html" title="struct fedimint_core::OutPoint">OutPoint</a>,
) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&lt;Self::<a class="associatedtype" href="trait.ServerModule.html#associatedtype.Common" title="type fedimint_server_core::ServerModule::Common">Common</a> as <a class="trait" href="../fedimint_core/module/trait.ModuleCommon.html" title="trait fedimint_core::module::ModuleCommon">ModuleCommon</a>&gt;::<a class="associatedtype" href="../fedimint_core/module/trait.ModuleCommon.html#associatedtype.OutputOutcome" title="type fedimint_core::module::ModuleCommon::OutputOutcome">OutputOutcome</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;<div class="where">where
    Self: 'async_trait,
    'life0: 'async_trait,
    'life1: 'async_trait,
    'life2: 'async_trait,</div></h4></section><span class="item-info"><div class="stab deprecated"><span class="emoji">👎</span><span>Deprecated: https://github.com/fedimint/fedimint/issues/6671</span></div></span></summary><div class="docblock"><p><strong>Deprecated</strong>: Modules should not be using it. Instead, they should
implement their own custom endpoints with semantics, versioning,
serialization, etc. that suits them. Potentially multiple or none.</p>
<p>Depending on the module this might contain data needed by the client to
access funds or give an estimate of when funds will be available.</p>
<p>Returns <code>None</code> if the output is unknown, <strong>NOT</strong> if it is just not ready
yet.</p>
<p>Since this has become deprecated you may return <code>None</code> even if the
output is known as long as the output outcome is not used inside the
module.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.audit" class="method"><a class="src rightside" href="../src/fedimint_server_core/lib.rs.html#185-190">Source</a><h4 class="code-header">fn <a href="#tymethod.audit" class="fn">audit</a>&lt;'life0, 'life1, 'life2, 'life3, 'async_trait&gt;(
    &amp;'life0 self,
    dbtx: &amp;'life1 mut <a class="struct" href="../fedimint_core/db/struct.DatabaseTransaction.html" title="struct fedimint_core::db::DatabaseTransaction">DatabaseTransaction</a>&lt;'life2&gt;,
    audit: &amp;'life3 mut <a class="struct" href="../fedimint_core/module/audit/struct.Audit.html" title="struct fedimint_core::module::audit::Audit">Audit</a>,
    module_instance_id: <a class="type" href="../fedimint_core/core/type.ModuleInstanceId.html" title="type fedimint_core::core::ModuleInstanceId">ModuleInstanceId</a>,
) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;<div class="where">where
    Self: 'async_trait,
    'life0: 'async_trait,
    'life1: 'async_trait,
    'life2: 'async_trait,
    'life3: 'async_trait,</div></h4></section></summary><div class="docblock"><p>Queries the database and returns all assets and liabilities of the
module.</p>
<p>Summing over all modules, if liabilities &gt; assets then an error has
occurred in the database and consensus should halt.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.api_endpoints" class="method"><a class="src rightside" href="../src/fedimint_server_core/lib.rs.html#196">Source</a><h4 class="code-header">fn <a href="#tymethod.api_endpoints" class="fn">api_endpoints</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../fedimint_core/module/struct.ApiEndpoint.html" title="struct fedimint_core::module::ApiEndpoint">ApiEndpoint</a>&lt;Self&gt;&gt;</h4></section></summary><div class="docblock"><p>Returns a list of custom API endpoints defined by the module. These are
made available both to users as well as to other modules. They thus
should be deterministic, only dependant on their input and the
current epoch.</p>
</div></details></div><h2 id="provided-methods" class="section-header">Provided Methods<a href="#provided-methods" class="anchor">§</a></h2><div class="methods"><section id="method.module_kind" class="method"><a class="src rightside" href="../src/fedimint_server_core/lib.rs.html#40-44">Source</a><h4 class="code-header">fn <a href="#method.module_kind" class="fn">module_kind</a>() -&gt; <a class="struct" href="../fedimint_core/core/struct.ModuleKind.html" title="struct fedimint_core::core::ModuleKind">ModuleKind</a></h4></section><details class="toggle method-toggle" open><summary><section id="method.decoder" class="method"><a class="src rightside" href="../src/fedimint_server_core/lib.rs.html#54-56">Source</a><h4 class="code-header">fn <a href="#method.decoder" class="fn">decoder</a>() -&gt; <a class="struct" href="../fedimint_core/core/struct.Decoder.html" title="struct fedimint_core::core::Decoder">Decoder</a></h4></section></summary><div class="docblock"><p>Returns a decoder for the following associated types of this module:</p>
<ul>
<li><code>ClientConfig</code></li>
<li><code>Input</code></li>
<li><code>Output</code></li>
<li><code>OutputOutcome</code></li>
<li><code>ConsensusItem</code></li>
<li><code>InputError</code></li>
<li><code>OutputError</code></li>
</ul>
</div></details><section id="method.verify_input" class="method"><a class="src rightside" href="../src/fedimint_server_core/lib.rs.html#94-99">Source</a><h4 class="code-header">fn <a href="#method.verify_input" class="fn">verify_input</a>(
    &amp;self,
    _input: &amp;&lt;Self::<a class="associatedtype" href="trait.ServerModule.html#associatedtype.Common" title="type fedimint_server_core::ServerModule::Common">Common</a> as <a class="trait" href="../fedimint_core/module/trait.ModuleCommon.html" title="trait fedimint_core::module::ModuleCommon">ModuleCommon</a>&gt;::<a class="associatedtype" href="../fedimint_core/module/trait.ModuleCommon.html#associatedtype.Input" title="type fedimint_core::module::ModuleCommon::Input">Input</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>, &lt;Self::<a class="associatedtype" href="trait.ServerModule.html#associatedtype.Common" title="type fedimint_server_core::ServerModule::Common">Common</a> as <a class="trait" href="../fedimint_core/module/trait.ModuleCommon.html" title="trait fedimint_core::module::ModuleCommon">ModuleCommon</a>&gt;::<a class="associatedtype" href="../fedimint_core/module/trait.ModuleCommon.html#associatedtype.InputError" title="type fedimint_core::module::ModuleCommon::InputError">InputError</a>&gt;</h4></section></div><h2 id="dyn-compatibility" class="section-header">Dyn Compatibility<a href="#dyn-compatibility" class="anchor">§</a></h2><div class="dyn-compatibility-info"><p>This trait is <b>not</b> <a href="https://doc.rust-lang.org/nightly/reference/items/traits.html#dyn-compatibility">dyn compatible</a>.</p><p><i>In older versions of Rust, dyn compatibility was called "object safety", so this trait is not object safe.</i></p></div><h2 id="implementors" class="section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"></div><script src="../trait.impl/fedimint_server_core/trait.ServerModule.js" async></script></section></div></main></body></html>