<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="`apply_migrations_client` iterates from the on disk database version for the client module up to `target_db_version` and executes all of the migrations that exist in the migrations map, including state machine migrations. Each migration in the migrations map updates the database to have the correct on-disk data structures that the code is expecting. The entire process is atomic, (i.e migration from 0-&#62;1 and 1-&#62;2 happen atomically). This function is called before the module is initialized and as long as the correct migrations are supplied in the migrations map, the module will be able to read and write from the database successfully."><title>apply_migrations_client_module in fedimint_client::db - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2"href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../static.files/rustdoc-e56847b5.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="fedimint_client" data-themes="" data-resource-suffix="" data-rustdoc-version="1.91.0-nightly (5eda692e7 2025-09-11)" data-channel="nightly" data-search-js="search-d846cb6c.js" data-stringdex-js="stringdex-5af928a3.js" data-settings-js="settings-c38705f0.js" ><script src="../../static.files/storage-e2aeef58.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-6dc2a7f3.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-263c88ec.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-eab170b8.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-044be391.svg"></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><rustdoc-topbar><h2><a href="#">apply_migrations_client_module</a></h2></rustdoc-topbar><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../fedimint_client/index.html">fedimint_<wbr>client</a><span class="version">0.11.0-alpha</span></h2></div><div class="sidebar-elems"><div id="rustdoc-modnav"><h2><a href="index.html">In fedimint_<wbr>client::<wbr>db</a></h2></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../index.html">fedimint_client</a>::<wbr><a href="index.html">db</a></div><h1>Function <span class="fn">apply_<wbr>migrations_<wbr>client_<wbr>module</span>&nbsp;<button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../src/fedimint_client/db.rs.html#728-745">Source</a> </span></div><pre class="rust item-decl"><code>pub async fn apply_migrations_client_module(
    db: &amp;<a class="struct" href="../../fedimint_core/db/struct.Database.html" title="struct fedimint_core::db::Database">Database</a>,
    kind: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>,
    migrations: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/collections/btree/map/struct.BTreeMap.html" title="struct alloc::collections::btree::map::BTreeMap">BTreeMap</a>&lt;<a class="struct" href="../../fedimint_core/db/struct.DatabaseVersion.html" title="struct fedimint_core::db::DatabaseVersion">DatabaseVersion</a>, <a class="type" href="../../fedimint_client_module/db/type.ClientModuleMigrationFn.html" title="type fedimint_client_module::db::ClientModuleMigrationFn">ClientModuleMigrationFn</a>&gt;,
    module_instance_id: <a class="type" href="../type.ModuleInstanceId.html" title="type fedimint_client::ModuleInstanceId">ModuleInstanceId</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>, <a class="struct" href="https://docs.rs/anyhow/1.0.98/anyhow/struct.Error.html" title="struct anyhow::Error">Error</a>&gt;</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p><code>apply_migrations_client</code> iterates from the on disk database version for the
client module up to <code>target_db_version</code> and executes all of the migrations
that exist in the migrations map, including state machine migrations.
Each migration in the migrations map updates the database to have the
correct on-disk data structures that the code is expecting. The entire
process is atomic, (i.e migration from 0-&gt;1 and 1-&gt;2 happen atomically).
This function is called before the module is initialized and as long as the
correct migrations are supplied in the migrations map, the module
will be able to read and write from the database successfully.</p>
</div></details></section></div></main></body></html>