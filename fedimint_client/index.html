<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Client library"><title>fedimint_client - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2"href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../static.files/rustdoc-e56847b5.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="fedimint_client" data-themes="" data-resource-suffix="" data-rustdoc-version="1.91.0-nightly (5eda692e7 2025-09-11)" data-channel="nightly" data-search-js="search-d846cb6c.js" data-stringdex-js="stringdex-5af928a3.js" data-settings-js="settings-c38705f0.js" ><script src="../static.files/storage-e2aeef58.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-6dc2a7f3.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-263c88ec.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-eab170b8.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-044be391.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><rustdoc-topbar><h2><a href="#">Crate fedimint_client</a></h2></rustdoc-topbar><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../fedimint_client/index.html">fedimint_<wbr>client</a><span class="version">0.9.0-alpha</span></h2></div><div class="sidebar-elems"><ul class="block"><li><a id="all-types" href="all.html">All Items</a></li></ul><section id="rustdoc-toc"><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#client-library-for-fedimintd" title="Client library for fedimintd">Client library for fedimintd</a><ul><li><a href="#module-clients" title="Module Clients">Module Clients</a></li><li><a href="#client" title="Client">Client</a></li></ul></li></ul><h3><a href="#reexports">Crate Items</a></h3><ul class="block"><li><a href="#reexports" title="Re-exports">Re-exports</a></li><li><a href="#modules" title="Modules">Modules</a></li><li><a href="#macros" title="Macros">Macros</a></li><li><a href="#structs" title="Structs">Structs</a></li><li><a href="#enums" title="Enums">Enums</a></li><li><a href="#traits" title="Traits">Traits</a></li><li><a href="#types" title="Type Aliases">Type Aliases</a></li></ul></section><div id="rustdoc-modnav"></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><section id="main-content" class="content"><div class="main-heading"><h1>Crate <span>fedimint_<wbr>client</span>&nbsp;<button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../src/fedimint_client/lib.rs.html#1-106">Source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Client library</p>
<p>Notably previous <a href="index.html" title="mod fedimint_client"><code>crate</code></a> became [<code>fedimint_client_module</code>] and the
project is gradually moving things, that are irrelevant to the interface
between client and client modules.</p>
<h2 id="client-library-for-fedimintd"><a class="doc-anchor" href="#client-library-for-fedimintd">Â§</a>Client library for fedimintd</h2>
<p>This library provides a client interface to build module clients that can be
plugged together into a fedimint client that exposes a high-level interface
for application authors to integrate with.</p>
<h3 id="module-clients"><a class="doc-anchor" href="#module-clients">Â§</a>Module Clients</h3>
<p>Module clients have to at least implement the
<a href="trait.ClientModule.html" title="trait fedimint_client::ClientModule"><code>fedimint_client_module::module::ClientModule</code></a> trait and a factory struct
implementing [<code>fedimint_client_module::module::init::ClientModuleInit</code>]. The
<code>ClientModule</code> trait defines the module types (tx inputs, outputs, etc.) as
well as the moduleâ€™s <a href="module::sm::State">state machines</a>.</p>
<h4 id="state-machines"><a class="doc-anchor" href="#state-machines">Â§</a>State machines</h4>
<p>State machines are spawned when starting operations and drive them
forward in the background. All module state machines are run by a central
<a href="sm/executor/struct.Executor.html" title="struct fedimint_client::sm::executor::Executor"><code>crate::sm::executor::Executor</code></a>. This means typically starting an
operation shall return instantly.</p>
<p>For example when doing a deposit the function starting it would immediately
return a deposit address and a <a href="struct.OperationId.html" title="struct fedimint_client::OperationId"><code>fedimint_client_module::OperationId</code></a>
(important concept, highly recommended to read the docs) while spawning a
state machine checking the blockchain for incoming bitcoin transactions. The
progress of these state machines can then be <em>observed</em> using the operation
id, but no further user interaction is required to drive them forward.</p>
<h4 id="state-machine-contexts"><a class="doc-anchor" href="#state-machine-contexts">Â§</a>State Machine Contexts</h4>
<p>State machines have access to both a <a href="struct.DynGlobalClientContext.html" title="struct fedimint_client::DynGlobalClientContext">global
context</a> as well as to a <a href="trait.ClientModule.html#tymethod.context" title="method fedimint_client::ClientModule::context">module-specific
context</a>.</p>
<p>The global context provides access to the federation API and allows to claim
module outputs (and transferring the value into the clientâ€™s wallet), which
can be used for refunds.</p>
<p>The client-specific context can be used for other purposes, such as
supplying config to the state transitions or giving access to other APIs
(e.g. LN gateway in case of the lightning module).</p>
<h4 id="extension-traits"><a class="doc-anchor" href="#extension-traits">Â§</a>Extension traits</h4>
<p>The modules themselves can only create inputs and outputs that then have to
be combined into transactions by the user and submitted via
<a href="struct.Client.html#method.finalize_and_submit_transaction" title="method fedimint_client::Client::finalize_and_submit_transaction"><code>Client::finalize_and_submit_transaction</code></a>. To make this easier most module
client implementations contain an extension trait which is implemented for
<a href="struct.Client.html" title="struct fedimint_client::Client"><code>Client</code></a> and allows to create the most typical fedimint transactions with
a single function call.</p>
<p>To observe the progress each high level operation function should be
accompanied by one returning a stream of high-level operation updates.
Internally that stream queries the state machines belonging to the
operation to determine the high-level operation state.</p>
<h4 id="primary-modules"><a class="doc-anchor" href="#primary-modules">Â§</a>Primary Modules</h4>
<p>Not all modules have the ability to hold money for long. E.g. the lightning
module and its smart contracts are only used to incentivize LN payments, not
to hold money. The mint module on the other hand holds e-cash note and can
thus be used to fund transactions and to absorb change. Module clients with
this ability should implement
<a href="trait.ClientModule.html#method.supports_being_primary" title="method fedimint_client::ClientModule::supports_being_primary"><code>fedimint_client_module::ClientModule::supports_being_primary</code></a> and related
methods.</p>
<p>For a example of a client module see <a href="https://github.com/fedimint/fedimint/blob/master/modules/fedimint-mint-client/src/lib.rs">the mint client</a>.</p>
<h3 id="client"><a class="doc-anchor" href="#client">Â§</a>Client</h3>
<p>The <a href="struct.Client.html" title="struct fedimint_client::Client"><code>Client</code></a> struct is the main entry point for application authors. It is
constructed using its builder which can be obtained via <a href="struct.Client.html#method.builder" title="associated function fedimint_client::Client::builder"><code>Client::builder</code></a>.
The supported module clients have to be chosen at compile time while the
actually available ones will be determined by the config loaded at runtime.</p>
<p>For a hacky instantiation of a complete client see the <a href="https://github.com/fedimint/fedimint/blob/55f9d88e17d914b92a7018de677d16e57ed42bf6/fedimint-cli/src/ng.rs#L56-L73"><code>ng</code> subcommand of <code>fedimint-cli</code></a>.</p>
</div></details><h2 id="reexports" class="section-header">Re-exports<a href="#reexports" class="anchor">Â§</a></h2><dl class="item-table reexports"><dt id="reexport.module"><code>pub use fedimint_client_module as module;</code></dt></dl><h2 id="modules" class="section-header">Modules<a href="#modules" class="anchor">Â§</a></h2><dl class="item-table"><dt><a class="mod" href="api/index.html" title="mod fedimint_client::api">api</a></dt><dd>Re-exporting of everything from <code>fedimint_client_module</code></dd><dt><a class="mod" href="api_announcements/index.html" title="mod fedimint_client::api_announcements">api_<wbr>announcements</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dd>Federation Api announcement handling</dd><dt><a class="mod" href="api_version_discovery/index.html" title="mod fedimint_client::api_version_discovery">api_<wbr>version_<wbr>discovery</a></dt><dd>Re-exporting of everything from <code>fedimint_client_module</code></dd><dt><a class="mod" href="backup/index.html" title="mod fedimint_client::backup">backup</a></dt><dd>Client backup</dd><dt><a class="mod" href="client/index.html" title="mod fedimint_client::client">client</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dd>Core <a href="struct.Client.html" title="struct fedimint_client::Client"><code>Client</code></a></dd><dt><a class="mod" href="db/index.html" title="mod fedimint_client::db">db</a></dt><dd>Database keys used by the client</dd><dt><a class="mod" href="envs/index.html" title="mod fedimint_client::envs">envs</a></dt><dd>Re-exporting of everything from <code>fedimint_client_module</code></dd><dt><a class="mod" href="meta/index.html" title="mod fedimint_client::meta">meta</a></dt><dd>Management of meta fields</dd><dt><a class="mod" href="module_init/index.html" title="mod fedimint_client::module_init">module_<wbr>init</a></dt><dt><a class="mod" href="oplog/index.html" title="mod fedimint_client::oplog">oplog</a></dt><dt><a class="mod" href="secret/index.html" title="mod fedimint_client::secret">secret</a></dt><dd>Re-exporting of everything from <code>fedimint_client_module</code></dd><dt><a class="mod" href="sm/index.html" title="mod fedimint_client::sm">sm</a></dt><dt><a class="mod" href="transaction/index.html" title="mod fedimint_client::transaction">transaction</a></dt><dd>Re-exporting of everything from <code>fedimint_client_module</code></dd></dl><h2 id="macros" class="section-header">Macros<a href="#macros" class="anchor">Â§</a></h2><dl class="item-table"><dt><a class="macro" href="macro.sm_enum_variant_translation.html" title="macro fedimint_client::sm_enum_variant_translation">sm_<wbr>enum_<wbr>variant_<wbr>translation</a></dt><dd>Re-exporting of everything from <code>fedimint_client_module</code></dd></dl><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">Â§</a></h2><dl class="item-table"><dt><a class="struct" href="struct.AdminCreds.html" title="struct fedimint_client::AdminCreds">Admin<wbr>Creds</a></dt><dd>Re-exporting of everything from <code>fedimint_client_module</code></dd><dt><a class="struct" href="struct.Client.html" title="struct fedimint_client::Client">Client</a></dt><dd>Main client type</dd><dt><a class="struct" href="struct.ClientBuilder.html" title="struct fedimint_client::ClientBuilder">Client<wbr>Builder</a></dt><dd>Used to configure, assemble and build <a href="struct.Client.html" title="struct fedimint_client::Client"><code>Client</code></a></dd><dt><a class="struct" href="struct.ClientHandle.html" title="struct fedimint_client::ClientHandle">Client<wbr>Handle</a></dt><dd>User handle to the <a href="struct.Client.html" title="struct fedimint_client::Client"><code>Client</code></a> instance</dd><dt><a class="struct" href="struct.ClientModuleInstance.html" title="struct fedimint_client::ClientModuleInstance">Client<wbr>Module<wbr>Instance</a></dt><dd>Re-exporting of everything from <code>fedimint_client_module</code></dd><dt><a class="struct" href="struct.DynGlobalClientContext.html" title="struct fedimint_client::DynGlobalClientContext">DynGlobal<wbr>Client<wbr>Context</a></dt><dd>Re-exporting of everything from <code>fedimint_client_module</code></dd><dt><a class="struct" href="struct.GetInviteCodeRequest.html" title="struct fedimint_client::GetInviteCodeRequest">GetInvite<wbr>Code<wbr>Request</a></dt><dd>Re-exporting of everything from <code>fedimint_client_module</code></dd><dt><a class="struct" href="struct.ModuleKind.html" title="struct fedimint_client::ModuleKind">Module<wbr>Kind</a></dt><dd>Re-exporting of everything from <code>fedimint_client_module</code></dd><dt><a class="struct" href="struct.ModuleRecoveryCompleted.html" title="struct fedimint_client::ModuleRecoveryCompleted">Module<wbr>Recovery<wbr>Completed</a></dt><dd>Re-exporting of everything from <code>fedimint_client_module</code></dd><dt><a class="struct" href="struct.ModuleRecoveryStarted.html" title="struct fedimint_client::ModuleRecoveryStarted">Module<wbr>Recovery<wbr>Started</a></dt><dd>Re-exporting of everything from <code>fedimint_client_module</code></dd><dt><a class="struct" href="struct.OperationId.html" title="struct fedimint_client::OperationId">Operation<wbr>Id</a></dt><dd>Re-exporting of everything from <code>fedimint_client_module</code></dd><dt><a class="struct" href="struct.TransactionUpdates.html" title="struct fedimint_client::TransactionUpdates">Transaction<wbr>Updates</a></dt><dd>Re-exporting of everything from <code>fedimint_client_module</code></dd><dt><a class="struct" href="struct.TxAcceptedEvent.html" title="struct fedimint_client::TxAcceptedEvent">TxAccepted<wbr>Event</a></dt><dd>Re-exporting of everything from <code>fedimint_client_module</code></dd><dt><a class="struct" href="struct.TxCreatedEvent.html" title="struct fedimint_client::TxCreatedEvent">TxCreated<wbr>Event</a></dt><dd>Re-exporting of everything from <code>fedimint_client_module</code></dd><dt><a class="struct" href="struct.TxRejectedEvent.html" title="struct fedimint_client::TxRejectedEvent">TxRejected<wbr>Event</a></dt><dd>Re-exporting of everything from <code>fedimint_client_module</code></dd></dl><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">Â§</a></h2><dl class="item-table"><dt><a class="enum" href="enum.AddStateMachinesError.html" title="enum fedimint_client::AddStateMachinesError">AddState<wbr>Machines<wbr>Error</a></dt><dd>Re-exporting of everything from <code>fedimint_client_module</code></dd><dt><a class="enum" href="enum.RootSecret.html" title="enum fedimint_client::RootSecret">Root<wbr>Secret</a></dt><dd>The type of root secret hashing</dd></dl><h2 id="traits" class="section-header">Traits<a href="#traits" class="anchor">Â§</a></h2><dl class="item-table"><dt><a class="trait" href="trait.ClientModule.html" title="trait fedimint_client::ClientModule">Client<wbr>Module</a></dt><dd>Re-exporting of everything from <code>fedimint_client_module</code></dd><dt><a class="trait" href="trait.IGlobalClientContext.html" title="trait fedimint_client::IGlobalClientContext">IGlobal<wbr>Client<wbr>Context</a></dt><dd>Re-exporting of everything from <code>fedimint_client_module</code></dd><dt><a class="trait" href="trait.IInput.html" title="trait fedimint_client::IInput">IInput</a></dt><dd>Re-exporting of everything from <code>fedimint_client_module</code></dd><dt><a class="trait" href="trait.IOutput.html" title="trait fedimint_client::IOutput">IOutput</a></dt><dd>Re-exporting of everything from <code>fedimint_client_module</code></dd></dl><h2 id="types" class="section-header">Type Aliases<a href="#types" class="anchor">Â§</a></h2><dl class="item-table"><dt><a class="type" href="type.AddStateMachinesResult.html" title="type fedimint_client::AddStateMachinesResult">AddState<wbr>Machines<wbr>Result</a></dt><dd>Re-exporting of everything from <code>fedimint_client_module</code></dd><dt><a class="type" href="type.ClientHandleArc.html" title="type fedimint_client::ClientHandleArc">Client<wbr>Handle<wbr>Arc</a></dt><dd>An alias for a reference counted <a href="struct.ClientHandle.html" title="struct fedimint_client::ClientHandle"><code>ClientHandle</code></a></dd><dt><a class="type" href="type.InstancelessDynClientInput.html" title="type fedimint_client::InstancelessDynClientInput">Instanceless<wbr>DynClient<wbr>Input</a></dt><dd>Re-exporting of everything from <code>fedimint_client_module</code></dd><dt><a class="type" href="type.InstancelessDynClientInputBundle.html" title="type fedimint_client::InstancelessDynClientInputBundle">Instanceless<wbr>DynClient<wbr>Input<wbr>Bundle</a></dt><dd>Re-exporting of everything from <code>fedimint_client_module</code></dd><dt><a class="type" href="type.InstancelessDynClientInputSM.html" title="type fedimint_client::InstancelessDynClientInputSM">Instanceless<wbr>DynClient<wbr>InputSM</a></dt><dd>Re-exporting of everything from <code>fedimint_client_module</code></dd><dt><a class="type" href="type.InstancelessDynClientOutput.html" title="type fedimint_client::InstancelessDynClientOutput">Instanceless<wbr>DynClient<wbr>Output</a></dt><dd>Re-exporting of everything from <code>fedimint_client_module</code></dd><dt><a class="type" href="type.InstancelessDynClientOutputBundle.html" title="type fedimint_client::InstancelessDynClientOutputBundle">Instanceless<wbr>DynClient<wbr>Output<wbr>Bundle</a></dt><dd>Re-exporting of everything from <code>fedimint_client_module</code></dd><dt><a class="type" href="type.InstancelessDynClientOutputSM.html" title="type fedimint_client::InstancelessDynClientOutputSM">Instanceless<wbr>DynClient<wbr>OutputSM</a></dt><dd>Re-exporting of everything from <code>fedimint_client_module</code></dd><dt><a class="type" href="type.ModuleGlobalContextGen.html" title="type fedimint_client::ModuleGlobalContextGen">Module<wbr>Global<wbr>Context<wbr>Gen</a></dt><dd>Re-exporting of everything from <code>fedimint_client_module</code></dd><dt><a class="type" href="type.ModuleInstanceId.html" title="type fedimint_client::ModuleInstanceId">Module<wbr>Instance<wbr>Id</a></dt><dd>Re-exporting of everything from <code>fedimint_client_module</code></dd><dt><a class="type" href="type.StateGenerator.html" title="type fedimint_client::StateGenerator">State<wbr>Generator</a></dt><dd>Re-exporting of everything from <code>fedimint_client_module</code></dd></dl><script type="text/json" id="notable-traits-data">{"<Arc<S> as Service<Request>>::Future":"<h3>Notable traits for <code><a class=\"struct\" href=\"https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html\" title=\"struct alloc::sync::Arc\">Arc</a>&lt;<a class=\"struct\" href=\"https://doc.rust-lang.org/nightly/std/fs/struct.File.html\" title=\"struct std::fs::File\">File</a>&gt;</code></h3><pre><code><div class=\"where\">impl <a class=\"trait\" href=\"https://doc.rust-lang.org/nightly/std/io/trait.Read.html\" title=\"trait std::io::Read\">Read</a> for <a class=\"struct\" href=\"https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html\" title=\"struct alloc::sync::Arc\">Arc</a>&lt;<a class=\"struct\" href=\"https://doc.rust-lang.org/nightly/std/fs/struct.File.html\" title=\"struct std::fs::File\">File</a>&gt;</div><div class=\"where\">impl <a class=\"trait\" href=\"https://doc.rust-lang.org/nightly/std/io/trait.Write.html\" title=\"trait std::io::Write\">Write</a> for <a class=\"struct\" href=\"https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html\" title=\"struct alloc::sync::Arc\">Arc</a>&lt;<a class=\"struct\" href=\"https://doc.rust-lang.org/nightly/std/fs/struct.File.html\" title=\"struct std::fs::File\">File</a>&gt;</div>","<Arc<W> as MakeWriter<'a>>::Writer":"<h3>Notable traits for <code><a class=\"struct\" href=\"https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html\" title=\"struct alloc::sync::Arc\">Arc</a>&lt;<a class=\"struct\" href=\"https://doc.rust-lang.org/nightly/std/fs/struct.File.html\" title=\"struct std::fs::File\">File</a>&gt;</code></h3><pre><code><div class=\"where\">impl <a class=\"trait\" href=\"https://doc.rust-lang.org/nightly/std/io/trait.Read.html\" title=\"trait std::io::Read\">Read</a> for <a class=\"struct\" href=\"https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html\" title=\"struct alloc::sync::Arc\">Arc</a>&lt;<a class=\"struct\" href=\"https://doc.rust-lang.org/nightly/std/fs/struct.File.html\" title=\"struct std::fs::File\">File</a>&gt;</div><div class=\"where\">impl <a class=\"trait\" href=\"https://doc.rust-lang.org/nightly/std/io/trait.Write.html\" title=\"trait std::io::Write\">Write</a> for <a class=\"struct\" href=\"https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html\" title=\"struct alloc::sync::Arc\">Arc</a>&lt;<a class=\"struct\" href=\"https://doc.rust-lang.org/nightly/std/fs/struct.File.html\" title=\"struct std::fs::File\">File</a>&gt;</div>","Vec<u8>":"<h3>Notable traits for <code><a class=\"struct\" href=\"https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html\" title=\"struct alloc::vec::Vec\">Vec</a>&lt;<a class=\"primitive\" href=\"https://doc.rust-lang.org/nightly/std/primitive.u8.html\">u8</a>, A&gt;</code></h3><pre><code><div class=\"where\">impl&lt;A&gt; <a class=\"trait\" href=\"https://doc.rust-lang.org/nightly/std/io/trait.Write.html\" title=\"trait std::io::Write\">Write</a> for <a class=\"struct\" href=\"https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html\" title=\"struct alloc::vec::Vec\">Vec</a>&lt;<a class=\"primitive\" href=\"https://doc.rust-lang.org/nightly/std/primitive.u8.html\">u8</a>, A&gt;<div class=\"where\">where\n    A: <a class=\"trait\" href=\"https://doc.rust-lang.org/nightly/core/alloc/trait.Allocator.html\" title=\"trait core::alloc::Allocator\">Allocator</a>,</div></div>"}</script></section></div></main></body></html>