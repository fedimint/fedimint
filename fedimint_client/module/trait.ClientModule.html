<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Fedimint module client"><title>ClientModule in fedimint_client::module - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-cb6f1f67f1bcd037.css" id="mainThemeStyle"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="fedimint_client" data-themes="" data-resource-suffix="" data-rustdoc-version="1.73.0 (cc66ad468 2023-10-03)" data-channel="1.73.0" data-search-js="search-6dfdfced5eff6596.js" data-settings-js="settings-de11bff964e9d4e5.js" data-settings-css="settings-8c76f75bfb6bd192.css" data-theme-light-css="light-1596385f77d47ef2.css" data-theme-dark-css="dark-0a43001d3fc2282c.css" data-theme-ayu-css="ayu-fd19013d6ce078bf.css" ><script src="../../static.files/storage-db41da1a38ea3cb8.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-0795b7d26be81095.js"></script><noscript><link rel="stylesheet" media="(prefers-color-scheme:light)" href="../../static.files/light-1596385f77d47ef2.css"><link rel="stylesheet" media="(prefers-color-scheme:dark)" href="../../static.files/dark-0a43001d3fc2282c.css"><link rel="stylesheet" href="../../static.files/noscript-cffde32267a19fd6.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../../fedimint_client/index.html"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../../fedimint_client/index.html"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">ClientModule</a></h2><div class="sidebar-elems"><section><h3><a href="#required-associated-types">Required Associated Types</a></h3><ul class="block"><li><a href="#associatedtype.Common">Common</a></li><li><a href="#associatedtype.Init">Init</a></li><li><a href="#associatedtype.ModuleStateMachineContext">ModuleStateMachineContext</a></li><li><a href="#associatedtype.States">States</a></li></ul><h3><a href="#required-methods">Required Methods</a></h3><ul class="block"><li><a href="#tymethod.context">context</a></li><li><a href="#tymethod.input_amount">input_amount</a></li><li><a href="#tymethod.output_amount">output_amount</a></li></ul><h3><a href="#provided-methods">Provided Methods</a></h3><ul class="block"><li><a href="#method.await_primary_module_output">await_primary_module_output</a></li><li><a href="#method.backup">backup</a></li><li><a href="#method.create_exact_output">create_exact_output</a></li><li><a href="#method.create_sufficient_input">create_sufficient_input</a></li><li><a href="#method.decoder">decoder</a></li><li><a href="#method.get_balance">get_balance</a></li><li><a href="#method.handle_cli_command">handle_cli_command</a></li><li><a href="#method.kind">kind</a></li><li><a href="#method.leave">leave</a></li><li><a href="#method.restore">restore</a></li><li><a href="#method.subscribe_balance_changes">subscribe_balance_changes</a></li><li><a href="#method.supports_backup">supports_backup</a></li><li><a href="#method.supports_being_primary">supports_being_primary</a></li><li><a href="#method.wipe">wipe</a></li></ul><h3><a href="#implementors">Implementors</a></h3></section><h2><a href="index.html">In fedimint_client::module</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Trait <a href="../index.html">fedimint_client</a>::<wbr><a href="index.html">module</a>::<wbr><a class="trait" href="#">ClientModule</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../../src/fedimint_client/module/mod.rs.html#122-350">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub trait ClientModule: <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a> + <a class="trait" href="../../fedimint_core/task/trait.MaybeSend.html" title="trait fedimint_core::task::MaybeSend">MaybeSend</a> + <a class="trait" href="../../fedimint_core/task/trait.MaybeSync.html" title="trait fedimint_core::task::MaybeSync">MaybeSync</a> + 'static {
    type <a href="#associatedtype.Init" class="associatedtype">Init</a>: <a class="trait" href="init/trait.ClientModuleInit.html" title="trait fedimint_client::module::init::ClientModuleInit">ClientModuleInit</a>;
    type <a href="#associatedtype.Common" class="associatedtype">Common</a>: <a class="trait" href="../../fedimint_core/module/trait.ModuleCommon.html" title="trait fedimint_core::module::ModuleCommon">ModuleCommon</a>;
    type <a href="#associatedtype.ModuleStateMachineContext" class="associatedtype">ModuleStateMachineContext</a>: <a class="trait" href="../sm/state/trait.Context.html" title="trait fedimint_client::sm::state::Context">Context</a>;
    type <a href="#associatedtype.States" class="associatedtype">States</a>: <a class="trait" href="../sm/state/trait.State.html" title="trait fedimint_client::sm::state::State">State</a>&lt;GlobalContext = <a class="struct" href="../struct.DynGlobalClientContext.html" title="struct fedimint_client::DynGlobalClientContext">DynGlobalClientContext</a>, ModuleContext = Self::<a class="associatedtype" href="trait.ClientModule.html#associatedtype.ModuleStateMachineContext" title="type fedimint_client::module::ClientModule::ModuleStateMachineContext">ModuleStateMachineContext</a>&gt; + <a class="trait" href="../../fedimint_core/core/trait.IntoDynInstance.html" title="trait fedimint_core::core::IntoDynInstance">IntoDynInstance</a>&lt;DynType = <a class="struct" href="../sm/state/struct.DynState.html" title="struct fedimint_client::sm::state::DynState">DynState</a>&lt;<a class="struct" href="../struct.DynGlobalClientContext.html" title="struct fedimint_client::DynGlobalClientContext">DynGlobalClientContext</a>&gt;&gt;;

<details class="toggle type-contents-toggle"><summary class="hideme"><span>Show 17 methods</span></summary>    // Required methods
    fn <a href="#tymethod.context" class="fn">context</a>(&amp;self) -&gt; Self::<a class="associatedtype" href="trait.ClientModule.html#associatedtype.ModuleStateMachineContext" title="type fedimint_client::module::ClientModule::ModuleStateMachineContext">ModuleStateMachineContext</a>;
<span class="item-spacer"></span>    fn <a href="#tymethod.input_amount" class="fn">input_amount</a>(
        &amp;self,
        input: &amp;&lt;Self::<a class="associatedtype" href="trait.ClientModule.html#associatedtype.Common" title="type fedimint_client::module::ClientModule::Common">Common</a> as <a class="trait" href="../../fedimint_core/module/trait.ModuleCommon.html" title="trait fedimint_core::module::ModuleCommon">ModuleCommon</a>&gt;::<a class="associatedtype" href="../../fedimint_core/module/trait.ModuleCommon.html#associatedtype.Input" title="type fedimint_core::module::ModuleCommon::Input">Input</a>
    ) -&gt; <a class="struct" href="../../fedimint_core/module/struct.TransactionItemAmount.html" title="struct fedimint_core::module::TransactionItemAmount">TransactionItemAmount</a>;
<span class="item-spacer"></span>    fn <a href="#tymethod.output_amount" class="fn">output_amount</a>(
        &amp;self,
        output: &amp;&lt;Self::<a class="associatedtype" href="trait.ClientModule.html#associatedtype.Common" title="type fedimint_client::module::ClientModule::Common">Common</a> as <a class="trait" href="../../fedimint_core/module/trait.ModuleCommon.html" title="trait fedimint_core::module::ModuleCommon">ModuleCommon</a>&gt;::<a class="associatedtype" href="../../fedimint_core/module/trait.ModuleCommon.html#associatedtype.Output" title="type fedimint_core::module::ModuleCommon::Output">Output</a>
    ) -&gt; <a class="struct" href="../../fedimint_core/module/struct.TransactionItemAmount.html" title="struct fedimint_core::module::TransactionItemAmount">TransactionItemAmount</a>;

    // Provided methods
    fn <a href="#method.decoder" class="fn">decoder</a>() -&gt; <a class="struct" href="../../fedimint_core/core/struct.Decoder.html" title="struct fedimint_core::core::Decoder">Decoder</a> { ... }
<span class="item-spacer"></span>    fn <a href="#method.kind" class="fn">kind</a>() -&gt; <a class="struct" href="../../fedimint_core/core/struct.ModuleKind.html" title="struct fedimint_core::core::ModuleKind">ModuleKind</a> { ... }
<span class="item-spacer"></span>    fn <a href="#method.handle_cli_command" class="fn">handle_cli_command</a>&lt;'life0, 'life1, 'life2, 'async_trait&gt;(
        &amp;'life0 self,
        _client: &amp;'life1 <a class="struct" href="../struct.ClientArc.html" title="struct fedimint_client::ClientArc">ClientArc</a>,
        _args: &amp;'life2 [<a class="struct" href="https://doc.rust-lang.org/1.73.0/std/ffi/os_str/struct.OsString.html" title="struct std::ffi::os_str::OsString">OsString</a>]
    ) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.73.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.73.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="type" href="https://docs.rs/anyhow/1.0.75/anyhow/type.Result.html" title="type anyhow::Result">Result</a>&lt;<a class="enum" href="https://docs.rs/serde_json/1.0.105/serde_json/value/enum.Value.html" title="enum serde_json::value::Value">Value</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;
       <span class="where">where Self: <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait,
             'life0: 'async_trait,
             'life1: 'async_trait,
             'life2: 'async_trait</span> { ... }
<span class="item-spacer"></span>    fn <a href="#method.supports_backup" class="fn">supports_backup</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.73.0/std/primitive.bool.html">bool</a> { ... }
<span class="item-spacer"></span>    fn <a href="#method.backup" class="fn">backup</a>&lt;'life0, 'life1, 'life2, 'async_trait&gt;(
        &amp;'life0 self,
        _dbtx: &amp;'life1 mut <a class="struct" href="../../fedimint_core/db/struct.DatabaseTransactionRef.html" title="struct fedimint_core::db::DatabaseTransactionRef">DatabaseTransactionRef</a>&lt;'life2&gt;,
        _executor: <a class="struct" href="../sm/executor/struct.Executor.html" title="struct fedimint_client::sm::executor::Executor">Executor</a>&lt;<a class="struct" href="../struct.DynGlobalClientContext.html" title="struct fedimint_client::DynGlobalClientContext">DynGlobalClientContext</a>&gt;,
        _api: <a class="struct" href="../../fedimint_core/api/struct.DynGlobalApi.html" title="struct fedimint_core::api::DynGlobalApi">DynGlobalApi</a>,
        _module_instance_id: <a class="type" href="../../fedimint_core/core/type.ModuleInstanceId.html" title="type fedimint_core::core::ModuleInstanceId">ModuleInstanceId</a>
    ) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.73.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.73.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="type" href="https://docs.rs/anyhow/1.0.75/anyhow/type.Result.html" title="type anyhow::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.73.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.73.0/std/primitive.u8.html">u8</a>&gt;&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;
       <span class="where">where Self: <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait,
             'life0: 'async_trait,
             'life1: 'async_trait,
             'life2: 'async_trait</span> { ... }
<span class="item-spacer"></span>    fn <a href="#method.restore" class="fn">restore</a>&lt;'life0, 'life1, 'life2, 'life3, 'async_trait&gt;(
        &amp;'life0 self,
        _dbtx: &amp;'life1 mut <a class="struct" href="../../fedimint_core/db/struct.DatabaseTransaction.html" title="struct fedimint_core::db::DatabaseTransaction">DatabaseTransaction</a>&lt;'life2&gt;,
        _module_instance_id: <a class="type" href="../../fedimint_core/core/type.ModuleInstanceId.html" title="type fedimint_core::core::ModuleInstanceId">ModuleInstanceId</a>,
        _executor: <a class="struct" href="../sm/executor/struct.Executor.html" title="struct fedimint_client::sm::executor::Executor">Executor</a>&lt;<a class="struct" href="../struct.DynGlobalClientContext.html" title="struct fedimint_client::DynGlobalClientContext">DynGlobalClientContext</a>&gt;,
        _api: <a class="struct" href="../../fedimint_core/api/struct.DynGlobalApi.html" title="struct fedimint_core::api::DynGlobalApi">DynGlobalApi</a>,
        _snapshot: <a class="enum" href="https://doc.rust-lang.org/1.73.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;'life3 [<a class="primitive" href="https://doc.rust-lang.org/1.73.0/std/primitive.u8.html">u8</a>]&gt;
    ) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.73.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.73.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="type" href="https://docs.rs/anyhow/1.0.75/anyhow/type.Result.html" title="type anyhow::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.73.0/std/primitive.unit.html">()</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;
       <span class="where">where Self: <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait,
             'life0: 'async_trait,
             'life1: 'async_trait,
             'life2: 'async_trait,
             'life3: 'async_trait</span> { ... }
<span class="item-spacer"></span>    fn <a href="#method.wipe" class="fn">wipe</a>&lt;'life0, 'life1, 'life2, 'async_trait&gt;(
        &amp;'life0 self,
        _dbtx: &amp;'life1 mut <a class="struct" href="../../fedimint_core/db/struct.DatabaseTransactionRef.html" title="struct fedimint_core::db::DatabaseTransactionRef">DatabaseTransactionRef</a>&lt;'life2&gt;,
        _module_instance_id: <a class="type" href="../../fedimint_core/core/type.ModuleInstanceId.html" title="type fedimint_core::core::ModuleInstanceId">ModuleInstanceId</a>,
        _executor: <a class="struct" href="../sm/executor/struct.Executor.html" title="struct fedimint_client::sm::executor::Executor">Executor</a>&lt;<a class="struct" href="../struct.DynGlobalClientContext.html" title="struct fedimint_client::DynGlobalClientContext">DynGlobalClientContext</a>&gt;
    ) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.73.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.73.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="type" href="https://docs.rs/anyhow/1.0.75/anyhow/type.Result.html" title="type anyhow::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.73.0/std/primitive.unit.html">()</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;
       <span class="where">where Self: <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait,
             'life0: 'async_trait,
             'life1: 'async_trait,
             'life2: 'async_trait</span> { ... }
<span class="item-spacer"></span>    fn <a href="#method.supports_being_primary" class="fn">supports_being_primary</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.73.0/std/primitive.bool.html">bool</a> { ... }
<span class="item-spacer"></span>    fn <a href="#method.create_sufficient_input" class="fn">create_sufficient_input</a>&lt;'life0, 'life1, 'life2, 'async_trait&gt;(
        &amp;'life0 self,
        _dbtx: &amp;'life1 mut <a class="struct" href="../../fedimint_core/db/struct.DatabaseTransactionRef.html" title="struct fedimint_core::db::DatabaseTransactionRef">DatabaseTransactionRef</a>&lt;'life2&gt;,
        _operation_id: <a class="struct" href="../../fedimint_core/core/struct.OperationId.html" title="struct fedimint_core::core::OperationId">OperationId</a>,
        _min_amount: <a class="struct" href="../../fedimint_core/struct.Amount.html" title="struct fedimint_core::Amount">Amount</a>
    ) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.73.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.73.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="type" href="https://docs.rs/anyhow/1.0.75/anyhow/type.Result.html" title="type anyhow::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.73.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../transaction/builder/struct.ClientInput.html" title="struct fedimint_client::transaction::builder::ClientInput">ClientInput</a>&lt;&lt;Self::<a class="associatedtype" href="trait.ClientModule.html#associatedtype.Common" title="type fedimint_client::module::ClientModule::Common">Common</a> as <a class="trait" href="../../fedimint_core/module/trait.ModuleCommon.html" title="trait fedimint_core::module::ModuleCommon">ModuleCommon</a>&gt;::<a class="associatedtype" href="../../fedimint_core/module/trait.ModuleCommon.html#associatedtype.Input" title="type fedimint_core::module::ModuleCommon::Input">Input</a>, Self::<a class="associatedtype" href="trait.ClientModule.html#associatedtype.States" title="type fedimint_client::module::ClientModule::States">States</a>&gt;&gt;&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;
       <span class="where">where Self: <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait,
             'life0: 'async_trait,
             'life1: 'async_trait,
             'life2: 'async_trait</span> { ... }
<span class="item-spacer"></span>    fn <a href="#method.create_exact_output" class="fn">create_exact_output</a>&lt;'life0, 'life1, 'life2, 'async_trait&gt;(
        &amp;'life0 self,
        _dbtx: &amp;'life1 mut <a class="struct" href="../../fedimint_core/db/struct.DatabaseTransactionRef.html" title="struct fedimint_core::db::DatabaseTransactionRef">DatabaseTransactionRef</a>&lt;'life2&gt;,
        _operation_id: <a class="struct" href="../../fedimint_core/core/struct.OperationId.html" title="struct fedimint_core::core::OperationId">OperationId</a>,
        _amount: <a class="struct" href="../../fedimint_core/struct.Amount.html" title="struct fedimint_core::Amount">Amount</a>
    ) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.73.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.73.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="struct" href="https://doc.rust-lang.org/1.73.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../transaction/builder/struct.ClientOutput.html" title="struct fedimint_client::transaction::builder::ClientOutput">ClientOutput</a>&lt;&lt;Self::<a class="associatedtype" href="trait.ClientModule.html#associatedtype.Common" title="type fedimint_client::module::ClientModule::Common">Common</a> as <a class="trait" href="../../fedimint_core/module/trait.ModuleCommon.html" title="trait fedimint_core::module::ModuleCommon">ModuleCommon</a>&gt;::<a class="associatedtype" href="../../fedimint_core/module/trait.ModuleCommon.html#associatedtype.Output" title="type fedimint_core::module::ModuleCommon::Output">Output</a>, Self::<a class="associatedtype" href="trait.ClientModule.html#associatedtype.States" title="type fedimint_client::module::ClientModule::States">States</a>&gt;&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;
       <span class="where">where Self: <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait,
             'life0: 'async_trait,
             'life1: 'async_trait,
             'life2: 'async_trait</span> { ... }
<span class="item-spacer"></span>    fn <a href="#method.await_primary_module_output" class="fn">await_primary_module_output</a>&lt;'life0, 'async_trait&gt;(
        &amp;'life0 self,
        _operation_id: <a class="struct" href="../../fedimint_core/core/struct.OperationId.html" title="struct fedimint_core::core::OperationId">OperationId</a>,
        _out_point: <a class="struct" href="../../fedimint_core/struct.OutPoint.html" title="struct fedimint_core::OutPoint">OutPoint</a>
    ) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.73.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.73.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="type" href="https://docs.rs/anyhow/1.0.75/anyhow/type.Result.html" title="type anyhow::Result">Result</a>&lt;<a class="struct" href="../../fedimint_core/struct.Amount.html" title="struct fedimint_core::Amount">Amount</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;
       <span class="where">where Self: <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait,
             'life0: 'async_trait</span> { ... }
<span class="item-spacer"></span>    fn <a href="#method.get_balance" class="fn">get_balance</a>&lt;'life0, 'life1, 'life2, 'async_trait&gt;(
        &amp;'life0 self,
        _dbtx: &amp;'life1 mut <a class="struct" href="../../fedimint_core/db/struct.DatabaseTransactionRef.html" title="struct fedimint_core::db::DatabaseTransactionRef">DatabaseTransactionRef</a>&lt;'life2&gt;
    ) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.73.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.73.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="struct" href="../../fedimint_core/struct.Amount.html" title="struct fedimint_core::Amount">Amount</a>&gt; + <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;
       <span class="where">where Self: <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait,
             'life0: 'async_trait,
             'life1: 'async_trait,
             'life2: 'async_trait</span> { ... }
<span class="item-spacer"></span>    fn <a href="#method.subscribe_balance_changes" class="fn">subscribe_balance_changes</a>&lt;'life0, 'async_trait&gt;(
        &amp;'life0 self
    ) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.73.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.73.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="type" href="../../fedimint_core/util/type.BoxStream.html" title="type fedimint_core::util::BoxStream">BoxStream</a>&lt;'static, <a class="primitive" href="https://doc.rust-lang.org/1.73.0/std/primitive.unit.html">()</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;
       <span class="where">where Self: <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait,
             'life0: 'async_trait</span> { ... }
<span class="item-spacer"></span>    fn <a href="#method.leave" class="fn">leave</a>&lt;'life0, 'life1, 'life2, 'async_trait&gt;(
        &amp;'life0 self,
        _dbtx: &amp;'life1 mut <a class="struct" href="../../fedimint_core/db/struct.DatabaseTransactionRef.html" title="struct fedimint_core::db::DatabaseTransactionRef">DatabaseTransactionRef</a>&lt;'life2&gt;,
        _module_instance_id: <a class="type" href="../../fedimint_core/core/type.ModuleInstanceId.html" title="type fedimint_core::core::ModuleInstanceId">ModuleInstanceId</a>,
        _executor: <a class="struct" href="../sm/executor/struct.Executor.html" title="struct fedimint_client::sm::executor::Executor">Executor</a>&lt;<a class="struct" href="../struct.DynGlobalClientContext.html" title="struct fedimint_client::DynGlobalClientContext">DynGlobalClientContext</a>&gt;,
        _api: <a class="struct" href="../../fedimint_core/api/struct.DynGlobalApi.html" title="struct fedimint_core::api::DynGlobalApi">DynGlobalApi</a>
    ) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.73.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.73.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="type" href="https://docs.rs/anyhow/1.0.75/anyhow/type.Result.html" title="type anyhow::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.73.0/std/primitive.unit.html">()</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;
       <span class="where">where Self: <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait,
             'life0: 'async_trait,
             'life1: 'async_trait,
             'life2: 'async_trait</span> { ... }
</details>}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Fedimint module client</p>
</div></details><h2 id="required-associated-types" class="small-section-header">Required Associated Types<a href="#required-associated-types" class="anchor">§</a></h2><div class="methods"><section id="associatedtype.Init" class="method"><a class="src rightside" href="../../src/fedimint_client/module/mod.rs.html#123">source</a><h4 class="code-header">type <a href="#associatedtype.Init" class="associatedtype">Init</a>: <a class="trait" href="init/trait.ClientModuleInit.html" title="trait fedimint_client::module::init::ClientModuleInit">ClientModuleInit</a></h4></section><details class="toggle" open><summary><section id="associatedtype.Common" class="method"><a class="src rightside" href="../../src/fedimint_client/module/mod.rs.html#126">source</a><h4 class="code-header">type <a href="#associatedtype.Common" class="associatedtype">Common</a>: <a class="trait" href="../../fedimint_core/module/trait.ModuleCommon.html" title="trait fedimint_core::module::ModuleCommon">ModuleCommon</a></h4></section></summary><div class="docblock"><p>Common module types shared between client and server</p>
</div></details><details class="toggle" open><summary><section id="associatedtype.ModuleStateMachineContext" class="method"><a class="src rightside" href="../../src/fedimint_client/module/mod.rs.html#130">source</a><h4 class="code-header">type <a href="#associatedtype.ModuleStateMachineContext" class="associatedtype">ModuleStateMachineContext</a>: <a class="trait" href="../sm/state/trait.Context.html" title="trait fedimint_client::sm::state::Context">Context</a></h4></section></summary><div class="docblock"><p>Data and API clients available to state machine transitions of this
module</p>
</div></details><details class="toggle" open><summary><section id="associatedtype.States" class="method"><a class="src rightside" href="../../src/fedimint_client/module/mod.rs.html#133-136">source</a><h4 class="code-header">type <a href="#associatedtype.States" class="associatedtype">States</a>: <a class="trait" href="../sm/state/trait.State.html" title="trait fedimint_client::sm::state::State">State</a>&lt;GlobalContext = <a class="struct" href="../struct.DynGlobalClientContext.html" title="struct fedimint_client::DynGlobalClientContext">DynGlobalClientContext</a>, ModuleContext = Self::<a class="associatedtype" href="trait.ClientModule.html#associatedtype.ModuleStateMachineContext" title="type fedimint_client::module::ClientModule::ModuleStateMachineContext">ModuleStateMachineContext</a>&gt; + <a class="trait" href="../../fedimint_core/core/trait.IntoDynInstance.html" title="trait fedimint_core::core::IntoDynInstance">IntoDynInstance</a>&lt;DynType = <a class="struct" href="../sm/state/struct.DynState.html" title="struct fedimint_client::sm::state::DynState">DynState</a>&lt;<a class="struct" href="../struct.DynGlobalClientContext.html" title="struct fedimint_client::DynGlobalClientContext">DynGlobalClientContext</a>&gt;&gt;</h4></section></summary><div class="docblock"><p>All possible states this client can submit to the executor</p>
</div></details></div><h2 id="required-methods" class="small-section-header">Required Methods<a href="#required-methods" class="anchor">§</a></h2><div class="methods"><section id="tymethod.context" class="method"><a class="src rightside" href="../../src/fedimint_client/module/mod.rs.html#148">source</a><h4 class="code-header">fn <a href="#tymethod.context" class="fn">context</a>(&amp;self) -&gt; Self::<a class="associatedtype" href="trait.ClientModule.html#associatedtype.ModuleStateMachineContext" title="type fedimint_client::module::ClientModule::ModuleStateMachineContext">ModuleStateMachineContext</a></h4></section><details class="toggle method-toggle" open><summary><section id="tymethod.input_amount" class="method"><a class="src rightside" href="../../src/fedimint_client/module/mod.rs.html#162">source</a><h4 class="code-header">fn <a href="#tymethod.input_amount" class="fn">input_amount</a>(
    &amp;self,
    input: &amp;&lt;Self::<a class="associatedtype" href="trait.ClientModule.html#associatedtype.Common" title="type fedimint_client::module::ClientModule::Common">Common</a> as <a class="trait" href="../../fedimint_core/module/trait.ModuleCommon.html" title="trait fedimint_core::module::ModuleCommon">ModuleCommon</a>&gt;::<a class="associatedtype" href="../../fedimint_core/module/trait.ModuleCommon.html#associatedtype.Input" title="type fedimint_core::module::ModuleCommon::Input">Input</a>
) -&gt; <a class="struct" href="../../fedimint_core/module/struct.TransactionItemAmount.html" title="struct fedimint_core::module::TransactionItemAmount">TransactionItemAmount</a></h4></section></summary><div class="docblock"><p>Returns the amount represented by the input and the fee its processing
requires</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.output_amount" class="method"><a class="src rightside" href="../../src/fedimint_client/module/mod.rs.html#166-169">source</a><h4 class="code-header">fn <a href="#tymethod.output_amount" class="fn">output_amount</a>(
    &amp;self,
    output: &amp;&lt;Self::<a class="associatedtype" href="trait.ClientModule.html#associatedtype.Common" title="type fedimint_client::module::ClientModule::Common">Common</a> as <a class="trait" href="../../fedimint_core/module/trait.ModuleCommon.html" title="trait fedimint_core::module::ModuleCommon">ModuleCommon</a>&gt;::<a class="associatedtype" href="../../fedimint_core/module/trait.ModuleCommon.html#associatedtype.Output" title="type fedimint_core::module::ModuleCommon::Output">Output</a>
) -&gt; <a class="struct" href="../../fedimint_core/module/struct.TransactionItemAmount.html" title="struct fedimint_core::module::TransactionItemAmount">TransactionItemAmount</a></h4></section></summary><div class="docblock"><p>Returns the amount represented by the output and the fee its processing
requires</p>
</div></details></div><h2 id="provided-methods" class="small-section-header">Provided Methods<a href="#provided-methods" class="anchor">§</a></h2><div class="methods"><section id="method.decoder" class="method"><a class="src rightside" href="../../src/fedimint_client/module/mod.rs.html#138-142">source</a><h4 class="code-header">fn <a href="#method.decoder" class="fn">decoder</a>() -&gt; <a class="struct" href="../../fedimint_core/core/struct.Decoder.html" title="struct fedimint_core::core::Decoder">Decoder</a></h4></section><section id="method.kind" class="method"><a class="src rightside" href="../../src/fedimint_client/module/mod.rs.html#144-146">source</a><h4 class="code-header">fn <a href="#method.kind" class="fn">kind</a>() -&gt; <a class="struct" href="../../fedimint_core/core/struct.ModuleKind.html" title="struct fedimint_core::core::ModuleKind">ModuleKind</a></h4></section><section id="method.handle_cli_command" class="method"><a class="src rightside" href="../../src/fedimint_client/module/mod.rs.html#150-158">source</a><h4 class="code-header">fn <a href="#method.handle_cli_command" class="fn">handle_cli_command</a>&lt;'life0, 'life1, 'life2, 'async_trait&gt;(
    &amp;'life0 self,
    _client: &amp;'life1 <a class="struct" href="../struct.ClientArc.html" title="struct fedimint_client::ClientArc">ClientArc</a>,
    _args: &amp;'life2 [<a class="struct" href="https://doc.rust-lang.org/1.73.0/std/ffi/os_str/struct.OsString.html" title="struct std::ffi::os_str::OsString">OsString</a>]
) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.73.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.73.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="type" href="https://docs.rs/anyhow/1.0.75/anyhow/type.Result.html" title="type anyhow::Result">Result</a>&lt;<a class="enum" href="https://docs.rs/serde_json/1.0.105/serde_json/value/enum.Value.html" title="enum serde_json::value::Value">Value</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;<span class="where fmt-newline">where
    Self: <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait,
    'life0: 'async_trait,
    'life1: 'async_trait,
    'life2: 'async_trait,</span></h4></section><section id="method.supports_backup" class="method"><a class="src rightside" href="../../src/fedimint_client/module/mod.rs.html#171-173">source</a><h4 class="code-header">fn <a href="#method.supports_backup" class="fn">supports_backup</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.73.0/std/primitive.bool.html">bool</a></h4></section><section id="method.backup" class="method"><a class="src rightside" href="../../src/fedimint_client/module/mod.rs.html#175-183">source</a><h4 class="code-header">fn <a href="#method.backup" class="fn">backup</a>&lt;'life0, 'life1, 'life2, 'async_trait&gt;(
    &amp;'life0 self,
    _dbtx: &amp;'life1 mut <a class="struct" href="../../fedimint_core/db/struct.DatabaseTransactionRef.html" title="struct fedimint_core::db::DatabaseTransactionRef">DatabaseTransactionRef</a>&lt;'life2&gt;,
    _executor: <a class="struct" href="../sm/executor/struct.Executor.html" title="struct fedimint_client::sm::executor::Executor">Executor</a>&lt;<a class="struct" href="../struct.DynGlobalClientContext.html" title="struct fedimint_client::DynGlobalClientContext">DynGlobalClientContext</a>&gt;,
    _api: <a class="struct" href="../../fedimint_core/api/struct.DynGlobalApi.html" title="struct fedimint_core::api::DynGlobalApi">DynGlobalApi</a>,
    _module_instance_id: <a class="type" href="../../fedimint_core/core/type.ModuleInstanceId.html" title="type fedimint_core::core::ModuleInstanceId">ModuleInstanceId</a>
) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.73.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.73.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="type" href="https://docs.rs/anyhow/1.0.75/anyhow/type.Result.html" title="type anyhow::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.73.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.73.0/std/primitive.u8.html">u8</a>&gt;&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;<span class="where fmt-newline">where
    Self: <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait,
    'life0: 'async_trait,
    'life1: 'async_trait,
    'life2: 'async_trait,</span></h4></section><section id="method.restore" class="method"><a class="src rightside" href="../../src/fedimint_client/module/mod.rs.html#185-195">source</a><h4 class="code-header">fn <a href="#method.restore" class="fn">restore</a>&lt;'life0, 'life1, 'life2, 'life3, 'async_trait&gt;(
    &amp;'life0 self,
    _dbtx: &amp;'life1 mut <a class="struct" href="../../fedimint_core/db/struct.DatabaseTransaction.html" title="struct fedimint_core::db::DatabaseTransaction">DatabaseTransaction</a>&lt;'life2&gt;,
    _module_instance_id: <a class="type" href="../../fedimint_core/core/type.ModuleInstanceId.html" title="type fedimint_core::core::ModuleInstanceId">ModuleInstanceId</a>,
    _executor: <a class="struct" href="../sm/executor/struct.Executor.html" title="struct fedimint_client::sm::executor::Executor">Executor</a>&lt;<a class="struct" href="../struct.DynGlobalClientContext.html" title="struct fedimint_client::DynGlobalClientContext">DynGlobalClientContext</a>&gt;,
    _api: <a class="struct" href="../../fedimint_core/api/struct.DynGlobalApi.html" title="struct fedimint_core::api::DynGlobalApi">DynGlobalApi</a>,
    _snapshot: <a class="enum" href="https://doc.rust-lang.org/1.73.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;'life3 [<a class="primitive" href="https://doc.rust-lang.org/1.73.0/std/primitive.u8.html">u8</a>]&gt;
) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.73.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.73.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="type" href="https://docs.rs/anyhow/1.0.75/anyhow/type.Result.html" title="type anyhow::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.73.0/std/primitive.unit.html">()</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;<span class="where fmt-newline">where
    Self: <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait,
    'life0: 'async_trait,
    'life1: 'async_trait,
    'life2: 'async_trait,
    'life3: 'async_trait,</span></h4></section><section id="method.wipe" class="method"><a class="src rightside" href="../../src/fedimint_client/module/mod.rs.html#197-204">source</a><h4 class="code-header">fn <a href="#method.wipe" class="fn">wipe</a>&lt;'life0, 'life1, 'life2, 'async_trait&gt;(
    &amp;'life0 self,
    _dbtx: &amp;'life1 mut <a class="struct" href="../../fedimint_core/db/struct.DatabaseTransactionRef.html" title="struct fedimint_core::db::DatabaseTransactionRef">DatabaseTransactionRef</a>&lt;'life2&gt;,
    _module_instance_id: <a class="type" href="../../fedimint_core/core/type.ModuleInstanceId.html" title="type fedimint_core::core::ModuleInstanceId">ModuleInstanceId</a>,
    _executor: <a class="struct" href="../sm/executor/struct.Executor.html" title="struct fedimint_client::sm::executor::Executor">Executor</a>&lt;<a class="struct" href="../struct.DynGlobalClientContext.html" title="struct fedimint_client::DynGlobalClientContext">DynGlobalClientContext</a>&gt;
) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.73.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.73.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="type" href="https://docs.rs/anyhow/1.0.75/anyhow/type.Result.html" title="type anyhow::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.73.0/std/primitive.unit.html">()</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;<span class="where fmt-newline">where
    Self: <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait,
    'life0: 'async_trait,
    'life1: 'async_trait,
    'life2: 'async_trait,</span></h4></section><details class="toggle method-toggle" open><summary><section id="method.supports_being_primary" class="method"><a class="src rightside" href="../../src/fedimint_client/module/mod.rs.html#215-217">source</a><h4 class="code-header">fn <a href="#method.supports_being_primary" class="fn">supports_being_primary</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.73.0/std/primitive.bool.html">bool</a></h4></section></summary><div class="docblock"><p>Does this module support being a primary module</p>
<p>If it does it must implement:</p>
<ul>
<li><a href="trait.ClientModule.html#method.create_sufficient_input"><code>Self::create_sufficient_input</code></a></li>
<li><a href="trait.ClientModule.html#method.create_exact_output"><code>Self::create_exact_output</code></a></li>
<li><a href="trait.ClientModule.html#method.await_primary_module_output"><code>Self::await_primary_module_output</code></a></li>
<li><a href="trait.ClientModule.html#method.get_balance"><code>Self::get_balance</code></a></li>
<li><a href="trait.ClientModule.html#method.subscribe_balance_changes"><code>Self::subscribe_balance_changes</code></a></li>
</ul>
</div></details><details class="toggle method-toggle" open><summary><section id="method.create_sufficient_input" class="method"><a class="src rightside" href="../../src/fedimint_client/module/mod.rs.html#235-242">source</a><h4 class="code-header">fn <a href="#method.create_sufficient_input" class="fn">create_sufficient_input</a>&lt;'life0, 'life1, 'life2, 'async_trait&gt;(
    &amp;'life0 self,
    _dbtx: &amp;'life1 mut <a class="struct" href="../../fedimint_core/db/struct.DatabaseTransactionRef.html" title="struct fedimint_core::db::DatabaseTransactionRef">DatabaseTransactionRef</a>&lt;'life2&gt;,
    _operation_id: <a class="struct" href="../../fedimint_core/core/struct.OperationId.html" title="struct fedimint_core::core::OperationId">OperationId</a>,
    _min_amount: <a class="struct" href="../../fedimint_core/struct.Amount.html" title="struct fedimint_core::Amount">Amount</a>
) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.73.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.73.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="type" href="https://docs.rs/anyhow/1.0.75/anyhow/type.Result.html" title="type anyhow::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.73.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../transaction/builder/struct.ClientInput.html" title="struct fedimint_client::transaction::builder::ClientInput">ClientInput</a>&lt;&lt;Self::<a class="associatedtype" href="trait.ClientModule.html#associatedtype.Common" title="type fedimint_client::module::ClientModule::Common">Common</a> as <a class="trait" href="../../fedimint_core/module/trait.ModuleCommon.html" title="trait fedimint_core::module::ModuleCommon">ModuleCommon</a>&gt;::<a class="associatedtype" href="../../fedimint_core/module/trait.ModuleCommon.html#associatedtype.Input" title="type fedimint_core::module::ModuleCommon::Input">Input</a>, Self::<a class="associatedtype" href="trait.ClientModule.html#associatedtype.States" title="type fedimint_client::module::ClientModule::States">States</a>&gt;&gt;&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;<span class="where fmt-newline">where
    Self: <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait,
    'life0: 'async_trait,
    'life1: 'async_trait,
    'life2: 'async_trait,</span></h4></section></summary><div class="docblock"><p>Creates an input of <strong>at least</strong> a given <code>min_amount</code> from the holdings
managed by the module.</p>
<p>If successful it returns:</p>
<ul>
<li>A set of private keys belonging to the input for signing the
transaction</li>
<li>The input of <strong>at least</strong> <code>min_amount</code>, the actual amount might be
larger, the caller has to handle this case and possibly generate
change using <code>create_change_output</code>.</li>
<li>A closure that generates states belonging to the input. This closure
takes the transaction id of the transaction in which the input was
used and the input index as input since these cannot be known at time
of calling <code>create_funding_input</code> and have to be injected later.</li>
</ul>
<p>The function returns an error if the client’s funds are not sufficient
to create the requested input.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.create_exact_output" class="method"><a class="src rightside" href="../../src/fedimint_client/module/mod.rs.html#253-260">source</a><h4 class="code-header">fn <a href="#method.create_exact_output" class="fn">create_exact_output</a>&lt;'life0, 'life1, 'life2, 'async_trait&gt;(
    &amp;'life0 self,
    _dbtx: &amp;'life1 mut <a class="struct" href="../../fedimint_core/db/struct.DatabaseTransactionRef.html" title="struct fedimint_core::db::DatabaseTransactionRef">DatabaseTransactionRef</a>&lt;'life2&gt;,
    _operation_id: <a class="struct" href="../../fedimint_core/core/struct.OperationId.html" title="struct fedimint_core::core::OperationId">OperationId</a>,
    _amount: <a class="struct" href="../../fedimint_core/struct.Amount.html" title="struct fedimint_core::Amount">Amount</a>
) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.73.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.73.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="struct" href="https://doc.rust-lang.org/1.73.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../transaction/builder/struct.ClientOutput.html" title="struct fedimint_client::transaction::builder::ClientOutput">ClientOutput</a>&lt;&lt;Self::<a class="associatedtype" href="trait.ClientModule.html#associatedtype.Common" title="type fedimint_client::module::ClientModule::Common">Common</a> as <a class="trait" href="../../fedimint_core/module/trait.ModuleCommon.html" title="trait fedimint_core::module::ModuleCommon">ModuleCommon</a>&gt;::<a class="associatedtype" href="../../fedimint_core/module/trait.ModuleCommon.html#associatedtype.Output" title="type fedimint_core::module::ModuleCommon::Output">Output</a>, Self::<a class="associatedtype" href="trait.ClientModule.html#associatedtype.States" title="type fedimint_client::module::ClientModule::States">States</a>&gt;&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;<span class="where fmt-newline">where
    Self: <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait,
    'life0: 'async_trait,
    'life1: 'async_trait,
    'life2: 'async_trait,</span></h4></section></summary><div class="docblock"><p>Creates an output of <strong>exactly</strong> <code>amount</code> that will pay into the
holdings managed by the module.</p>
<p>It returns:</p>
<ul>
<li>The output of <strong>exactly</strong> <code>amount</code>.</li>
<li>A closure that generates states belonging to the output. This closure
takes the transaction id of the transaction in which the output was
used and the output index as input since these cannot be known at time
of calling <code>create_change_output</code> and have to be injected later.</li>
</ul>
</div></details><details class="toggle method-toggle" open><summary><section id="method.await_primary_module_output" class="method"><a class="src rightside" href="../../src/fedimint_client/module/mod.rs.html#266-272">source</a><h4 class="code-header">fn <a href="#method.await_primary_module_output" class="fn">await_primary_module_output</a>&lt;'life0, 'async_trait&gt;(
    &amp;'life0 self,
    _operation_id: <a class="struct" href="../../fedimint_core/core/struct.OperationId.html" title="struct fedimint_core::core::OperationId">OperationId</a>,
    _out_point: <a class="struct" href="../../fedimint_core/struct.OutPoint.html" title="struct fedimint_core::OutPoint">OutPoint</a>
) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.73.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.73.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="type" href="https://docs.rs/anyhow/1.0.75/anyhow/type.Result.html" title="type anyhow::Result">Result</a>&lt;<a class="struct" href="../../fedimint_core/struct.Amount.html" title="struct fedimint_core::Amount">Amount</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;<span class="where fmt-newline">where
    Self: <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait,
    'life0: 'async_trait,</span></h4></section></summary><div class="docblock"><p>Waits for the funds from an output created by
<a href="trait.ClientModule.html#method.create_exact_output"><code>Self::create_exact_output</code></a> to become available. This function
returning typically implies a change in the output of
<a href="trait.ClientModule.html#method.get_balance"><code>Self::get_balance</code></a>.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.get_balance" class="method"><a class="src rightside" href="../../src/fedimint_client/module/mod.rs.html#276-278">source</a><h4 class="code-header">fn <a href="#method.get_balance" class="fn">get_balance</a>&lt;'life0, 'life1, 'life2, 'async_trait&gt;(
    &amp;'life0 self,
    _dbtx: &amp;'life1 mut <a class="struct" href="../../fedimint_core/db/struct.DatabaseTransactionRef.html" title="struct fedimint_core::db::DatabaseTransactionRef">DatabaseTransactionRef</a>&lt;'life2&gt;
) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.73.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.73.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="struct" href="../../fedimint_core/struct.Amount.html" title="struct fedimint_core::Amount">Amount</a>&gt; + <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;<span class="where fmt-newline">where
    Self: <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait,
    'life0: 'async_trait,
    'life1: 'async_trait,
    'life2: 'async_trait,</span></h4></section></summary><div class="docblock"><p>Returns the balance held by this module and available for funding
transactions.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.subscribe_balance_changes" class="method"><a class="src rightside" href="../../src/fedimint_client/module/mod.rs.html#282-284">source</a><h4 class="code-header">fn <a href="#method.subscribe_balance_changes" class="fn">subscribe_balance_changes</a>&lt;'life0, 'async_trait&gt;(
    &amp;'life0 self
) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.73.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.73.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="type" href="../../fedimint_core/util/type.BoxStream.html" title="type fedimint_core::util::BoxStream">BoxStream</a>&lt;'static, <a class="primitive" href="https://doc.rust-lang.org/1.73.0/std/primitive.unit.html">()</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;<span class="where fmt-newline">where
    Self: <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait,
    'life0: 'async_trait,</span></h4></section></summary><div class="docblock"><p>Returns a stream that will output the updated module balance each time
it changes.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.leave" class="method"><a class="src rightside" href="../../src/fedimint_client/module/mod.rs.html#341-349">source</a><h4 class="code-header">fn <a href="#method.leave" class="fn">leave</a>&lt;'life0, 'life1, 'life2, 'async_trait&gt;(
    &amp;'life0 self,
    _dbtx: &amp;'life1 mut <a class="struct" href="../../fedimint_core/db/struct.DatabaseTransactionRef.html" title="struct fedimint_core::db::DatabaseTransactionRef">DatabaseTransactionRef</a>&lt;'life2&gt;,
    _module_instance_id: <a class="type" href="../../fedimint_core/core/type.ModuleInstanceId.html" title="type fedimint_core::core::ModuleInstanceId">ModuleInstanceId</a>,
    _executor: <a class="struct" href="../sm/executor/struct.Executor.html" title="struct fedimint_client::sm::executor::Executor">Executor</a>&lt;<a class="struct" href="../struct.DynGlobalClientContext.html" title="struct fedimint_client::DynGlobalClientContext">DynGlobalClientContext</a>&gt;,
    _api: <a class="struct" href="../../fedimint_core/api/struct.DynGlobalApi.html" title="struct fedimint_core::api::DynGlobalApi">DynGlobalApi</a>
) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.73.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.73.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="type" href="https://docs.rs/anyhow/1.0.75/anyhow/type.Result.html" title="type anyhow::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.73.0/std/primitive.unit.html">()</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;<span class="where fmt-newline">where
    Self: <a class="trait" href="https://doc.rust-lang.org/1.73.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait,
    'life0: 'async_trait,
    'life1: 'async_trait,
    'life2: 'async_trait,</span></h4></section></summary><div class="docblock"><p>Leave the federation</p>
<p>While technically there’s nothing stopping the client from just
abandoning Federation at any point by deleting all the related
local data, it is useful to make sure it’s safe beforehand.</p>
<p>This call indicates the desire of the caller client code
to orderly and safely leave the Federation by this module instance.
The goal of the implementations is to fulfil that wish,
giving prompt and informative feedback if it’s not yet possible.</p>
<p>The client module implementation should handle the request
and return as fast as possible avoiding blocking for longer than
necessary. This would usually involve some combination of:</p>
<ul>
<li>recording the state of being in process of leaving the Federation to
prevent initiating new conditions that could delay its completion;</li>
<li>performing any fast to complete cleanup/exit logic;</li>
<li>initiating any time-consuming logic (e.g. canceling outstanding
contracts), as background jobs, tasks machines, etc.</li>
<li>checking for any conditions indicating it might not be safe to leave
at the moment.</li>
</ul>
<p>This function should return <code>Ok</code> only if from the perspective
of this module instance, it is safe to delete client data and
stop using it, with no further actions (like background jobs) required
to complete.</p>
<p>This function should return an error if it’s not currently possible
to safely (e.g. without loosing funds) leave the Federation.
It should avoid running indefinitely trying to complete any cleanup
actions necessary to reach a clean state, preferring spawning new
state machines and returning an informative error about cleanup
still in progress.</p>
<p>If any internal task needs to complete, any user action is required,
or even external condition needs to be met this function
should return a <code>Err</code>.</p>
<p>Notably modules should not disable interaction that might be necessary
for the user (possibly through other modules) to leave the Federation.
In particular a Mint module should retain ability to create new notes,
and LN module should retain ability to send funds out.</p>
<p>Calling code must NOT assume that a module that once returned <code>Ok</code>,
will not return <code>Err</code> at later point. E.g. a Mint module might have
no outstanding balance at first, but other modules winding down
might “cash-out” to Ecash.</p>
<p>Before leaving the Federation and deleting any state the calling code
must collect a full round of <code>Ok</code> from all the modules.</p>
<p>Calling code should allow the user to override and ignore any
outstanding errors, after sufficient amount of warnings. Ideally,
this should be done on per-module basis, to avoid mistakes.</p>
</div></details></div><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"></div><script src="../../implementors/fedimint_client/module/trait.ClientModule.js" async></script></section></div></main></body></html>