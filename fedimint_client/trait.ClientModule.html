<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Re-exporting of everything from `fedimint_client_module`"><title>ClientModule in fedimint_client - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2"href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../static.files/rustdoc-e56847b5.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="fedimint_client" data-themes="" data-resource-suffix="" data-rustdoc-version="1.91.0-nightly (5eda692e7 2025-09-11)" data-channel="nightly" data-search-js="search-d846cb6c.js" data-stringdex-js="stringdex-5af928a3.js" data-settings-js="settings-c38705f0.js" ><script src="../static.files/storage-e2aeef58.js"></script><script defer src="sidebar-items.js"></script><script defer src="../static.files/main-6dc2a7f3.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-263c88ec.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-eab170b8.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-044be391.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><rustdoc-topbar><h2><a href="#">ClientModule</a></h2></rustdoc-topbar><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../fedimint_client/index.html">fedimint_<wbr>client</a><span class="version">0.11.0-alpha</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Client<wbr>Module</a></h2><h3><a href="#required-associated-types">Required Associated Types</a></h3><ul class="block"><li><a href="#associatedtype.Backup" title="Backup">Backup</a></li><li><a href="#associatedtype.Common" title="Common">Common</a></li><li><a href="#associatedtype.Init" title="Init">Init</a></li><li><a href="#associatedtype.ModuleStateMachineContext" title="ModuleStateMachineContext">ModuleStateMachineContext</a></li><li><a href="#associatedtype.States" title="States">States</a></li></ul><h3><a href="#required-methods">Required Methods</a></h3><ul class="block"><li><a href="#tymethod.context" title="context">context</a></li><li><a href="#tymethod.input_fee" title="input_fee">input_fee</a></li><li><a href="#tymethod.output_fee" title="output_fee">output_fee</a></li></ul><h3><a href="#provided-methods">Provided Methods</a></h3><ul class="block"><li><a href="#method.await_primary_module_output" title="await_primary_module_output">await_primary_module_output</a></li><li><a href="#method.backup" title="backup">backup</a></li><li><a href="#method.create_final_inputs_and_outputs" title="create_final_inputs_and_outputs">create_final_inputs_and_outputs</a></li><li><a href="#method.decoder" title="decoder">decoder</a></li><li><a href="#method.get_balance" title="get_balance">get_balance</a></li><li><a href="#method.get_balances" title="get_balances">get_balances</a></li><li><a href="#method.handle_cli_command" title="handle_cli_command">handle_cli_command</a></li><li><a href="#method.handle_rpc" title="handle_rpc">handle_rpc</a></li><li><a href="#method.kind" title="kind">kind</a></li><li><a href="#method.leave" title="leave">leave</a></li><li><a href="#method.start" title="start">start</a></li><li><a href="#method.subscribe_balance_changes" title="subscribe_balance_changes">subscribe_balance_changes</a></li><li><a href="#method.supports_backup" title="supports_backup">supports_backup</a></li><li><a href="#method.supports_being_primary" title="supports_being_primary">supports_being_primary</a></li></ul><h3><a href="#dyn-compatibility">Dyn Compatibility</a></h3><h3><a href="#implementors">Implementors</a></h3></section><div id="rustdoc-modnav"><h2 class="in-crate"><a href="index.html">In crate fedimint_<wbr>client</a></h2></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="index.html">fedimint_client</a></div><h1>Trait <span class="trait">Client<wbr>Module</span>&nbsp;<button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../src/fedimint_client_module/module/mod.rs.html#743">Source</a> </span></div><pre class="rust item-decl"><code>pub trait ClientModule:
    <a class="trait" href="https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a>
    + <a class="trait" href="../fedimint_core/task/trait.MaybeSend.html" title="trait fedimint_core::task::MaybeSend">MaybeSend</a>
    + <a class="trait" href="../fedimint_core/task/trait.MaybeSync.html" title="trait fedimint_core::task::MaybeSync">MaybeSync</a>
    + 'static {
    type <a href="#associatedtype.Init" class="associatedtype">Init</a>: <a class="trait" href="../fedimint_client_module/module/init/trait.ClientModuleInit.html" title="trait fedimint_client_module::module::init::ClientModuleInit">ClientModuleInit</a>;
    type <a href="#associatedtype.Common" class="associatedtype">Common</a>: <a class="trait" href="../fedimint_core/module/trait.ModuleCommon.html" title="trait fedimint_core::module::ModuleCommon">ModuleCommon</a>;
    type <a href="#associatedtype.Backup" class="associatedtype">Backup</a>: <a class="trait" href="../fedimint_client_module/module/recovery/trait.ModuleBackup.html" title="trait fedimint_client_module::module::recovery::ModuleBackup">ModuleBackup</a>;
    type <a href="#associatedtype.ModuleStateMachineContext" class="associatedtype">ModuleStateMachineContext</a>: <a class="trait" href="../fedimint_client_module/sm/state/trait.Context.html" title="trait fedimint_client_module::sm::state::Context">Context</a>;
    type <a href="#associatedtype.States" class="associatedtype">States</a>: <a class="trait" href="../fedimint_client_module/sm/state/trait.State.html" title="trait fedimint_client_module::sm::state::State">State</a>&lt;ModuleContext = Self::<a class="associatedtype" href="trait.ClientModule.html#associatedtype.ModuleStateMachineContext" title="type fedimint_client::ClientModule::ModuleStateMachineContext">ModuleStateMachineContext</a>&gt; + <a class="trait" href="../fedimint_core/core/trait.IntoDynInstance.html" title="trait fedimint_core::core::IntoDynInstance">IntoDynInstance</a>&lt;DynType = <a class="struct" href="../fedimint_client_module/sm/state/struct.DynState.html" title="struct fedimint_client_module::sm::state::DynState">DynState</a>&gt;;

<details class="toggle type-contents-toggle"><summary class="hideme"><span>Show 17 methods</span></summary>    // Required methods
    fn <a href="#tymethod.context" class="fn">context</a>(&amp;self) -&gt; Self::<a class="associatedtype" href="trait.ClientModule.html#associatedtype.ModuleStateMachineContext" title="type fedimint_client::ClientModule::ModuleStateMachineContext">ModuleStateMachineContext</a>;
<span class="item-spacer"></span>    fn <a href="#tymethod.input_fee" class="fn">input_fee</a>(
        &amp;self,
        amount: &amp;<a class="struct" href="../fedimint_core/module/struct.Amounts.html" title="struct fedimint_core::module::Amounts">Amounts</a>,
        input: &amp;&lt;Self::<a class="associatedtype" href="trait.ClientModule.html#associatedtype.Common" title="type fedimint_client::ClientModule::Common">Common</a> as <a class="trait" href="../fedimint_core/module/trait.ModuleCommon.html" title="trait fedimint_core::module::ModuleCommon">ModuleCommon</a>&gt;::<a class="associatedtype" href="../fedimint_core/module/trait.ModuleCommon.html#associatedtype.Input" title="type fedimint_core::module::ModuleCommon::Input">Input</a>,
    ) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../fedimint_core/module/struct.Amounts.html" title="struct fedimint_core::module::Amounts">Amounts</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.output_fee" class="fn">output_fee</a>(
        &amp;self,
        amount: &amp;<a class="struct" href="../fedimint_core/module/struct.Amounts.html" title="struct fedimint_core::module::Amounts">Amounts</a>,
        output: &amp;&lt;Self::<a class="associatedtype" href="trait.ClientModule.html#associatedtype.Common" title="type fedimint_client::ClientModule::Common">Common</a> as <a class="trait" href="../fedimint_core/module/trait.ModuleCommon.html" title="trait fedimint_core::module::ModuleCommon">ModuleCommon</a>&gt;::<a class="associatedtype" href="../fedimint_core/module/trait.ModuleCommon.html#associatedtype.Output" title="type fedimint_core::module::ModuleCommon::Output">Output</a>,
    ) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../fedimint_core/module/struct.Amounts.html" title="struct fedimint_core::module::Amounts">Amounts</a>&gt;;

    // Provided methods
    fn <a href="#method.decoder" class="fn">decoder</a>() -&gt; <a class="struct" href="../fedimint_core/core/struct.Decoder.html" title="struct fedimint_core::core::Decoder">Decoder</a> { ... }
<span class="item-spacer"></span>    fn <a href="#method.kind" class="fn">kind</a>() -&gt; <a class="struct" href="struct.ModuleKind.html" title="struct fedimint_client::ModuleKind">ModuleKind</a> { ... }
<span class="item-spacer"></span>    fn <a href="#method.start" class="fn">start</a>&lt;'life0, 'async_trait&gt;(
        &amp;'life0 self,
    ) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;
       <span class="where">where 'life0: 'async_trait,
             Self: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait</span> { ... }
<span class="item-spacer"></span>    fn <a href="#method.handle_cli_command" class="fn">handle_cli_command</a>&lt;'life0, 'life1, 'async_trait&gt;(
        &amp;'life0 self,
        _args: &amp;'life1 [<a class="struct" href="https://doc.rust-lang.org/nightly/std/ffi/os_str/struct.OsString.html" title="struct std::ffi::os_str::OsString">OsString</a>],
    ) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="enum" href="https://docs.rs/serde_json/1.0.141/serde_json/value/enum.Value.html" title="enum serde_json::value::Value">Value</a>, <a class="struct" href="https://docs.rs/anyhow/1.0.98/anyhow/struct.Error.html" title="struct anyhow::Error">Error</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;
       <span class="where">where 'life0: 'async_trait,
             'life1: 'async_trait,
             Self: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait</span> { ... }
<span class="item-spacer"></span>    fn <a href="#method.handle_rpc" class="fn">handle_rpc</a>&lt;'life0, 'async_trait&gt;(
        &amp;'life0 self,
        _method: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>,
        _request: <a class="enum" href="https://docs.rs/serde_json/1.0.141/serde_json/value/enum.Value.html" title="enum serde_json::value::Value">Value</a>,
    ) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="struct" href="https://doc.rust-lang.org/nightly/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn Stream&lt;Item = <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="enum" href="https://docs.rs/serde_json/1.0.141/serde_json/value/enum.Value.html" title="enum serde_json::value::Value">Value</a>, <a class="struct" href="https://docs.rs/anyhow/1.0.98/anyhow/struct.Error.html" title="struct anyhow::Error">Error</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'life0&gt;&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;
       <span class="where">where 'life0: 'async_trait,
             Self: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait</span> { ... }
<span class="item-spacer"></span>    fn <a href="#method.supports_backup" class="fn">supports_backup</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a> { ... }
<span class="item-spacer"></span>    fn <a href="#method.backup" class="fn">backup</a>&lt;'life0, 'async_trait&gt;(
        &amp;'life0 self,
    ) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;Self::<a class="associatedtype" href="trait.ClientModule.html#associatedtype.Backup" title="type fedimint_client::ClientModule::Backup">Backup</a>, <a class="struct" href="https://docs.rs/anyhow/1.0.98/anyhow/struct.Error.html" title="struct anyhow::Error">Error</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;
       <span class="where">where 'life0: 'async_trait,
             Self: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait</span> { ... }
<span class="item-spacer"></span>    fn <a href="#method.supports_being_primary" class="fn">supports_being_primary</a>(&amp;self) -&gt; <a class="enum" href="../fedimint_client_module/module/enum.PrimaryModuleSupport.html" title="enum fedimint_client_module::module::PrimaryModuleSupport">PrimaryModuleSupport</a> { ... }
<span class="item-spacer"></span>    fn <a href="#method.create_final_inputs_and_outputs" class="fn">create_final_inputs_and_outputs</a>&lt;'life0, 'life1, 'life2, 'async_trait&gt;(
        &amp;'life0 self,
        _dbtx: &amp;'life1 mut <a class="struct" href="../fedimint_core/db/struct.DatabaseTransaction.html" title="struct fedimint_core::db::DatabaseTransaction">DatabaseTransaction</a>&lt;'life2&gt;,
        _operation_id: <a class="struct" href="struct.OperationId.html" title="struct fedimint_client::OperationId">OperationId</a>,
        _unit: <a class="struct" href="../fedimint_core/module/struct.AmountUnit.html" title="struct fedimint_core::module::AmountUnit">AmountUnit</a>,
        _input_amount: <a class="struct" href="../fedimint_core/amount/struct.Amount.html" title="struct fedimint_core::amount::Amount">Amount</a>,
        _output_amount: <a class="struct" href="../fedimint_core/amount/struct.Amount.html" title="struct fedimint_core::amount::Amount">Amount</a>,
    ) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;(<a class="struct" href="transaction/struct.ClientInputBundle.html" title="struct fedimint_client::transaction::ClientInputBundle">ClientInputBundle</a>&lt;&lt;Self::<a class="associatedtype" href="trait.ClientModule.html#associatedtype.Common" title="type fedimint_client::ClientModule::Common">Common</a> as <a class="trait" href="../fedimint_core/module/trait.ModuleCommon.html" title="trait fedimint_core::module::ModuleCommon">ModuleCommon</a>&gt;::<a class="associatedtype" href="../fedimint_core/module/trait.ModuleCommon.html#associatedtype.Input" title="type fedimint_core::module::ModuleCommon::Input">Input</a>, Self::<a class="associatedtype" href="trait.ClientModule.html#associatedtype.States" title="type fedimint_client::ClientModule::States">States</a>&gt;, <a class="struct" href="transaction/struct.ClientOutputBundle.html" title="struct fedimint_client::transaction::ClientOutputBundle">ClientOutputBundle</a>&lt;&lt;Self::<a class="associatedtype" href="trait.ClientModule.html#associatedtype.Common" title="type fedimint_client::ClientModule::Common">Common</a> as <a class="trait" href="../fedimint_core/module/trait.ModuleCommon.html" title="trait fedimint_core::module::ModuleCommon">ModuleCommon</a>&gt;::<a class="associatedtype" href="../fedimint_core/module/trait.ModuleCommon.html#associatedtype.Output" title="type fedimint_core::module::ModuleCommon::Output">Output</a>, Self::<a class="associatedtype" href="trait.ClientModule.html#associatedtype.States" title="type fedimint_client::ClientModule::States">States</a>&gt;), <a class="struct" href="https://docs.rs/anyhow/1.0.98/anyhow/struct.Error.html" title="struct anyhow::Error">Error</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;
       <span class="where">where 'life0: 'async_trait,
             'life1: 'async_trait,
             'life2: 'async_trait,
             Self: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait</span> { ... }
<span class="item-spacer"></span>    fn <a href="#method.await_primary_module_output" class="fn">await_primary_module_output</a>&lt;'life0, 'async_trait&gt;(
        &amp;'life0 self,
        _operation_id: <a class="struct" href="struct.OperationId.html" title="struct fedimint_client::OperationId">OperationId</a>,
        _out_point: <a class="struct" href="../fedimint_core/struct.OutPoint.html" title="struct fedimint_core::OutPoint">OutPoint</a>,
    ) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>, <a class="struct" href="https://docs.rs/anyhow/1.0.98/anyhow/struct.Error.html" title="struct anyhow::Error">Error</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;
       <span class="where">where 'life0: 'async_trait,
             Self: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait</span> { ... }
<span class="item-spacer"></span>    fn <a href="#method.get_balance" class="fn">get_balance</a>&lt;'life0, 'life1, 'life2, 'async_trait&gt;(
        &amp;'life0 self,
        _dbtx: &amp;'life1 mut <a class="struct" href="../fedimint_core/db/struct.DatabaseTransaction.html" title="struct fedimint_core::db::DatabaseTransaction">DatabaseTransaction</a>&lt;'life2&gt;,
        _unit: <a class="struct" href="../fedimint_core/module/struct.AmountUnit.html" title="struct fedimint_core::module::AmountUnit">AmountUnit</a>,
    ) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="struct" href="../fedimint_core/amount/struct.Amount.html" title="struct fedimint_core::amount::Amount">Amount</a>&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;
       <span class="where">where 'life0: 'async_trait,
             'life1: 'async_trait,
             'life2: 'async_trait,
             Self: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait</span> { ... }
<span class="item-spacer"></span>    fn <a href="#method.get_balances" class="fn">get_balances</a>&lt;'life0, 'life1, 'life2, 'async_trait&gt;(
        &amp;'life0 self,
        _dbtx: &amp;'life1 mut <a class="struct" href="../fedimint_core/db/struct.DatabaseTransaction.html" title="struct fedimint_core::db::DatabaseTransaction">DatabaseTransaction</a>&lt;'life2&gt;,
    ) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="struct" href="../fedimint_core/module/struct.Amounts.html" title="struct fedimint_core::module::Amounts">Amounts</a>&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;
       <span class="where">where 'life0: 'async_trait,
             'life1: 'async_trait,
             'life2: 'async_trait,
             Self: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait</span> { ... }
<span class="item-spacer"></span>    fn <a href="#method.subscribe_balance_changes" class="fn">subscribe_balance_changes</a>&lt;'life0, 'async_trait&gt;(
        &amp;'life0 self,
    ) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="struct" href="https://doc.rust-lang.org/nightly/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn Stream&lt;Item = <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a>&gt;&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;
       <span class="where">where 'life0: 'async_trait,
             Self: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait</span> { ... }
<span class="item-spacer"></span>    fn <a href="#method.leave" class="fn">leave</a>&lt;'life0, 'life1, 'life2, 'async_trait&gt;(
        &amp;'life0 self,
        _dbtx: &amp;'life1 mut <a class="struct" href="../fedimint_core/db/struct.DatabaseTransaction.html" title="struct fedimint_core::db::DatabaseTransaction">DatabaseTransaction</a>&lt;'life2&gt;,
    ) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>, <a class="struct" href="https://docs.rs/anyhow/1.0.98/anyhow/struct.Error.html" title="struct anyhow::Error">Error</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;
       <span class="where">where 'life0: 'async_trait,
             'life1: 'async_trait,
             'life2: 'async_trait,
             Self: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait</span> { ... }
</details>}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Re-exporting of everything from <code>fedimint_client_module</code></p>
<p>This should be removed when the splitting of <a href="../fedimint_client_module/index.html" title="mod fedimint_client_module"><code>fedimint_client_module</code></a> is
complete.
Fedimint module client</p>
</div></details><h2 id="required-associated-types" class="section-header">Required Associated Types<a href="#required-associated-types" class="anchor">§</a></h2><div class="methods"><section id="associatedtype.Init" class="method"><a class="src rightside" href="../src/fedimint_client_module/module/mod.rs.html#744">Source</a><h4 class="code-header">type <a href="#associatedtype.Init" class="associatedtype">Init</a>: <a class="trait" href="../fedimint_client_module/module/init/trait.ClientModuleInit.html" title="trait fedimint_client_module::module::init::ClientModuleInit">ClientModuleInit</a></h4></section><details class="toggle" open><summary><section id="associatedtype.Common" class="method"><a class="src rightside" href="../src/fedimint_client_module/module/mod.rs.html#747">Source</a><h4 class="code-header">type <a href="#associatedtype.Common" class="associatedtype">Common</a>: <a class="trait" href="../fedimint_core/module/trait.ModuleCommon.html" title="trait fedimint_core::module::ModuleCommon">ModuleCommon</a></h4></section></summary><div class="docblock"><p>Common module types shared between client and server</p>
</div></details><details class="toggle" open><summary><section id="associatedtype.Backup" class="method"><a class="src rightside" href="../src/fedimint_client_module/module/mod.rs.html#751">Source</a><h4 class="code-header">type <a href="#associatedtype.Backup" class="associatedtype">Backup</a>: <a class="trait" href="../fedimint_client_module/module/recovery/trait.ModuleBackup.html" title="trait fedimint_client_module::module::recovery::ModuleBackup">ModuleBackup</a></h4></section></summary><div class="docblock"><p>Data stored in regular backups so that restoring doesn’t have to start
from epoch 0</p>
</div></details><details class="toggle" open><summary><section id="associatedtype.ModuleStateMachineContext" class="method"><a class="src rightside" href="../src/fedimint_client_module/module/mod.rs.html#755">Source</a><h4 class="code-header">type <a href="#associatedtype.ModuleStateMachineContext" class="associatedtype">ModuleStateMachineContext</a>: <a class="trait" href="../fedimint_client_module/sm/state/trait.Context.html" title="trait fedimint_client_module::sm::state::Context">Context</a></h4></section></summary><div class="docblock"><p>Data and API clients available to state machine transitions of this
module</p>
</div></details><details class="toggle" open><summary><section id="associatedtype.States" class="method"><a class="src rightside" href="../src/fedimint_client_module/module/mod.rs.html#758-759">Source</a><h4 class="code-header">type <a href="#associatedtype.States" class="associatedtype">States</a>: <a class="trait" href="../fedimint_client_module/sm/state/trait.State.html" title="trait fedimint_client_module::sm::state::State">State</a>&lt;ModuleContext = Self::<a class="associatedtype" href="trait.ClientModule.html#associatedtype.ModuleStateMachineContext" title="type fedimint_client::ClientModule::ModuleStateMachineContext">ModuleStateMachineContext</a>&gt; + <a class="trait" href="../fedimint_core/core/trait.IntoDynInstance.html" title="trait fedimint_core::core::IntoDynInstance">IntoDynInstance</a>&lt;DynType = <a class="struct" href="../fedimint_client_module/sm/state/struct.DynState.html" title="struct fedimint_client_module::sm::state::DynState">DynState</a>&gt;</h4></section></summary><div class="docblock"><p>All possible states this client can submit to the executor</p>
</div></details></div><h2 id="required-methods" class="section-header">Required Methods<a href="#required-methods" class="anchor">§</a></h2><div class="methods"><section id="tymethod.context" class="method"><a class="src rightside" href="../src/fedimint_client_module/module/mod.rs.html#772">Source</a><h4 class="code-header">fn <a href="#tymethod.context" class="fn">context</a>(&amp;self) -&gt; Self::<a class="associatedtype" href="trait.ClientModule.html#associatedtype.ModuleStateMachineContext" title="type fedimint_client::ClientModule::ModuleStateMachineContext">ModuleStateMachineContext</a></h4></section><details class="toggle method-toggle" open><summary><section id="tymethod.input_fee" class="method"><a class="src rightside" href="../src/fedimint_client_module/module/mod.rs.html#808-812">Source</a><h4 class="code-header">fn <a href="#tymethod.input_fee" class="fn">input_fee</a>(
    &amp;self,
    amount: &amp;<a class="struct" href="../fedimint_core/module/struct.Amounts.html" title="struct fedimint_core::module::Amounts">Amounts</a>,
    input: &amp;&lt;Self::<a class="associatedtype" href="trait.ClientModule.html#associatedtype.Common" title="type fedimint_client::ClientModule::Common">Common</a> as <a class="trait" href="../fedimint_core/module/trait.ModuleCommon.html" title="trait fedimint_core::module::ModuleCommon">ModuleCommon</a>&gt;::<a class="associatedtype" href="../fedimint_core/module/trait.ModuleCommon.html#associatedtype.Input" title="type fedimint_core::module::ModuleCommon::Input">Input</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../fedimint_core/module/struct.Amounts.html" title="struct fedimint_core::module::Amounts">Amounts</a>&gt;</h4></section></summary><div class="docblock"><p>Returns the fee the processing of this input requires.</p>
<p>If the semantics of a given input aren’t known this function returns
<code>None</code>, this only happens if a future version of Fedimint introduces a
new input variant. For clients this should only be the case when
processing transactions created by other users, so the result of
this function can be <code>unwrap</code>ped whenever dealing with inputs
generated by ourselves.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.output_fee" class="method"><a class="src rightside" href="../src/fedimint_client_module/module/mod.rs.html#822-826">Source</a><h4 class="code-header">fn <a href="#tymethod.output_fee" class="fn">output_fee</a>(
    &amp;self,
    amount: &amp;<a class="struct" href="../fedimint_core/module/struct.Amounts.html" title="struct fedimint_core::module::Amounts">Amounts</a>,
    output: &amp;&lt;Self::<a class="associatedtype" href="trait.ClientModule.html#associatedtype.Common" title="type fedimint_client::ClientModule::Common">Common</a> as <a class="trait" href="../fedimint_core/module/trait.ModuleCommon.html" title="trait fedimint_core::module::ModuleCommon">ModuleCommon</a>&gt;::<a class="associatedtype" href="../fedimint_core/module/trait.ModuleCommon.html#associatedtype.Output" title="type fedimint_core::module::ModuleCommon::Output">Output</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../fedimint_core/module/struct.Amounts.html" title="struct fedimint_core::module::Amounts">Amounts</a>&gt;</h4></section></summary><div class="docblock"><p>Returns the fee the processing of this output requires.</p>
<p>If the semantics of a given output aren’t known this function returns
<code>None</code>, this only happens if a future version of Fedimint introduces a
new output variant. For clients this should only be the case when
processing transactions created by other users, so the result of
this function can be <code>unwrap</code>ped whenever dealing with inputs
generated by ourselves.</p>
</div></details></div><h2 id="provided-methods" class="section-header">Provided Methods<a href="#provided-methods" class="anchor">§</a></h2><div class="methods"><section id="method.decoder" class="method"><a class="src rightside" href="../src/fedimint_client_module/module/mod.rs.html#761">Source</a><h4 class="code-header">fn <a href="#method.decoder" class="fn">decoder</a>() -&gt; <a class="struct" href="../fedimint_core/core/struct.Decoder.html" title="struct fedimint_core::core::Decoder">Decoder</a></h4></section><section id="method.kind" class="method"><a class="src rightside" href="../src/fedimint_client_module/module/mod.rs.html#768">Source</a><h4 class="code-header">fn <a href="#method.kind" class="fn">kind</a>() -&gt; <a class="struct" href="struct.ModuleKind.html" title="struct fedimint_client::ModuleKind">ModuleKind</a></h4></section><details class="toggle method-toggle" open><summary><section id="method.start" class="method"><a class="src rightside" href="../src/fedimint_client_module/module/mod.rs.html#742">Source</a><h4 class="code-header">fn <a href="#method.start" class="fn">start</a>&lt;'life0, 'async_trait&gt;(
    &amp;'life0 self,
) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;<div class="where">where
    'life0: 'async_trait,
    Self: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait,</div></h4></section></summary><div class="docblock"><p>Initialize client.</p>
<p>Called by the core client code on start, after <a href="../fedimint_client_module/module/struct.ClientContext.html" title="struct fedimint_client_module::module::ClientContext"><code>ClientContext</code></a> is
fully initialized, so unlike during <a href="../fedimint_client_module/module/init/trait.ClientModuleInit.html#tymethod.init" title="method fedimint_client_module::module::init::ClientModuleInit::init"><code>ClientModuleInit::init</code></a>,
access to global client is allowed.</p>
</div></details><section id="method.handle_cli_command" class="method"><a class="src rightside" href="../src/fedimint_client_module/module/mod.rs.html#742">Source</a><h4 class="code-header">fn <a href="#method.handle_cli_command" class="fn">handle_cli_command</a>&lt;'life0, 'life1, 'async_trait&gt;(
    &amp;'life0 self,
    _args: &amp;'life1 [<a class="struct" href="https://doc.rust-lang.org/nightly/std/ffi/os_str/struct.OsString.html" title="struct std::ffi::os_str::OsString">OsString</a>],
) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="enum" href="https://docs.rs/serde_json/1.0.141/serde_json/value/enum.Value.html" title="enum serde_json::value::Value">Value</a>, <a class="struct" href="https://docs.rs/anyhow/1.0.98/anyhow/struct.Error.html" title="struct anyhow::Error">Error</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;<div class="where">where
    'life0: 'async_trait,
    'life1: 'async_trait,
    Self: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait,</div></h4></section><section id="method.handle_rpc" class="method"><a class="src rightside" href="../src/fedimint_client_module/module/mod.rs.html#742">Source</a><h4 class="code-header">fn <a href="#method.handle_rpc" class="fn">handle_rpc</a>&lt;'life0, 'async_trait&gt;(
    &amp;'life0 self,
    _method: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>,
    _request: <a class="enum" href="https://docs.rs/serde_json/1.0.141/serde_json/value/enum.Value.html" title="enum serde_json::value::Value">Value</a>,
) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="struct" href="https://doc.rust-lang.org/nightly/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn Stream&lt;Item = <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="enum" href="https://docs.rs/serde_json/1.0.141/serde_json/value/enum.Value.html" title="enum serde_json::value::Value">Value</a>, <a class="struct" href="https://docs.rs/anyhow/1.0.98/anyhow/struct.Error.html" title="struct anyhow::Error">Error</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'life0&gt;&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;<div class="where">where
    'life0: 'async_trait,
    Self: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait,</div></h4></section><section id="method.supports_backup" class="method"><a class="src rightside" href="../src/fedimint_client_module/module/mod.rs.html#828">Source</a><h4 class="code-header">fn <a href="#method.supports_backup" class="fn">supports_backup</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></h4></section><section id="method.backup" class="method"><a class="src rightside" href="../src/fedimint_client_module/module/mod.rs.html#742">Source</a><h4 class="code-header">fn <a href="#method.backup" class="fn">backup</a>&lt;'life0, 'async_trait&gt;(
    &amp;'life0 self,
) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;Self::<a class="associatedtype" href="trait.ClientModule.html#associatedtype.Backup" title="type fedimint_client::ClientModule::Backup">Backup</a>, <a class="struct" href="https://docs.rs/anyhow/1.0.98/anyhow/struct.Error.html" title="struct anyhow::Error">Error</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;<div class="where">where
    'life0: 'async_trait,
    Self: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait,</div></h4></section><details class="toggle method-toggle" open><summary><section id="method.supports_being_primary" class="method"><a class="src rightside" href="../src/fedimint_client_module/module/mod.rs.html#844">Source</a><h4 class="code-header">fn <a href="#method.supports_being_primary" class="fn">supports_being_primary</a>(&amp;self) -&gt; <a class="enum" href="../fedimint_client_module/module/enum.PrimaryModuleSupport.html" title="enum fedimint_client_module::module::PrimaryModuleSupport">PrimaryModuleSupport</a></h4></section></summary><div class="docblock"><p>Does this module support being a primary module</p>
<p>If it does it must implement:</p>
<ul>
<li><a href="trait.ClientModule.html#method.create_final_inputs_and_outputs" title="method fedimint_client_module::module::ClientModule::create_final_inputs_and_outputs::create_final_inputs_and_outputs"><code>Self::create_final_inputs_and_outputs</code></a></li>
<li><a href="trait.ClientModule.html#method.await_primary_module_output" title="method fedimint_client_module::module::ClientModule::await_primary_module_output::await_primary_module_output"><code>Self::await_primary_module_output</code></a></li>
<li><a href="trait.ClientModule.html#method.get_balance" title="method fedimint_client_module::module::ClientModule::get_balance::get_balance"><code>Self::get_balance</code></a></li>
<li><a href="trait.ClientModule.html#method.subscribe_balance_changes" title="method fedimint_client_module::module::ClientModule::subscribe_balance_changes::subscribe_balance_changes"><code>Self::subscribe_balance_changes</code></a></li>
</ul>
</div></details><details class="toggle method-toggle" open><summary><section id="method.create_final_inputs_and_outputs" class="method"><a class="src rightside" href="../src/fedimint_client_module/module/mod.rs.html#742">Source</a><h4 class="code-header">fn <a href="#method.create_final_inputs_and_outputs" class="fn">create_final_inputs_and_outputs</a>&lt;'life0, 'life1, 'life2, 'async_trait&gt;(
    &amp;'life0 self,
    _dbtx: &amp;'life1 mut <a class="struct" href="../fedimint_core/db/struct.DatabaseTransaction.html" title="struct fedimint_core::db::DatabaseTransaction">DatabaseTransaction</a>&lt;'life2&gt;,
    _operation_id: <a class="struct" href="struct.OperationId.html" title="struct fedimint_client::OperationId">OperationId</a>,
    _unit: <a class="struct" href="../fedimint_core/module/struct.AmountUnit.html" title="struct fedimint_core::module::AmountUnit">AmountUnit</a>,
    _input_amount: <a class="struct" href="../fedimint_core/amount/struct.Amount.html" title="struct fedimint_core::amount::Amount">Amount</a>,
    _output_amount: <a class="struct" href="../fedimint_core/amount/struct.Amount.html" title="struct fedimint_core::amount::Amount">Amount</a>,
) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;(<a class="struct" href="transaction/struct.ClientInputBundle.html" title="struct fedimint_client::transaction::ClientInputBundle">ClientInputBundle</a>&lt;&lt;Self::<a class="associatedtype" href="trait.ClientModule.html#associatedtype.Common" title="type fedimint_client::ClientModule::Common">Common</a> as <a class="trait" href="../fedimint_core/module/trait.ModuleCommon.html" title="trait fedimint_core::module::ModuleCommon">ModuleCommon</a>&gt;::<a class="associatedtype" href="../fedimint_core/module/trait.ModuleCommon.html#associatedtype.Input" title="type fedimint_core::module::ModuleCommon::Input">Input</a>, Self::<a class="associatedtype" href="trait.ClientModule.html#associatedtype.States" title="type fedimint_client::ClientModule::States">States</a>&gt;, <a class="struct" href="transaction/struct.ClientOutputBundle.html" title="struct fedimint_client::transaction::ClientOutputBundle">ClientOutputBundle</a>&lt;&lt;Self::<a class="associatedtype" href="trait.ClientModule.html#associatedtype.Common" title="type fedimint_client::ClientModule::Common">Common</a> as <a class="trait" href="../fedimint_core/module/trait.ModuleCommon.html" title="trait fedimint_core::module::ModuleCommon">ModuleCommon</a>&gt;::<a class="associatedtype" href="../fedimint_core/module/trait.ModuleCommon.html#associatedtype.Output" title="type fedimint_core::module::ModuleCommon::Output">Output</a>, Self::<a class="associatedtype" href="trait.ClientModule.html#associatedtype.States" title="type fedimint_client::ClientModule::States">States</a>&gt;), <a class="struct" href="https://docs.rs/anyhow/1.0.98/anyhow/struct.Error.html" title="struct anyhow::Error">Error</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;<div class="where">where
    'life0: 'async_trait,
    'life1: 'async_trait,
    'life2: 'async_trait,
    Self: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait,</div></h4></section></summary><div class="docblock"><p>Creates all inputs and outputs necessary to balance the transaction.
The function returns an error if and only if the client’s funds are not
sufficient to create the inputs necessary to fully fund the transaction.</p>
<p>A returned input also contains:</p>
<ul>
<li>A set of private keys belonging to the input for signing the
transaction</li>
<li>A closure that generates states belonging to the input. This closure
takes the transaction id of the transaction in which the input was
used and the input index as input since these cannot be known at time
of calling <code>create_funding_input</code> and have to be injected later.</li>
</ul>
<p>A returned output also contains:</p>
<ul>
<li>A closure that generates states belonging to the output. This closure
takes the transaction id of the transaction in which the output was
used and the output index as input since these cannot be known at time
of calling <code>create_change_output</code> and have to be injected later.</li>
</ul>
</div></details><details class="toggle method-toggle" open><summary><section id="method.await_primary_module_output" class="method"><a class="src rightside" href="../src/fedimint_client_module/module/mod.rs.html#742">Source</a><h4 class="code-header">fn <a href="#method.await_primary_module_output" class="fn">await_primary_module_output</a>&lt;'life0, 'async_trait&gt;(
    &amp;'life0 self,
    _operation_id: <a class="struct" href="struct.OperationId.html" title="struct fedimint_client::OperationId">OperationId</a>,
    _out_point: <a class="struct" href="../fedimint_core/struct.OutPoint.html" title="struct fedimint_core::OutPoint">OutPoint</a>,
) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>, <a class="struct" href="https://docs.rs/anyhow/1.0.98/anyhow/struct.Error.html" title="struct anyhow::Error">Error</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;<div class="where">where
    'life0: 'async_trait,
    Self: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait,</div></h4></section></summary><div class="docblock"><p>Waits for the funds from an output created by
<a href="trait.ClientModule.html#method.create_final_inputs_and_outputs" title="method fedimint_client_module::module::ClientModule::create_final_inputs_and_outputs::create_final_inputs_and_outputs"><code>Self::create_final_inputs_and_outputs</code></a> to become available. This
function returning typically implies a change in the output of
<a href="trait.ClientModule.html#method.get_balance" title="method fedimint_client_module::module::ClientModule::get_balance::get_balance"><code>Self::get_balance</code></a>.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.get_balance" class="method"><a class="src rightside" href="../src/fedimint_client_module/module/mod.rs.html#742">Source</a><h4 class="code-header">fn <a href="#method.get_balance" class="fn">get_balance</a>&lt;'life0, 'life1, 'life2, 'async_trait&gt;(
    &amp;'life0 self,
    _dbtx: &amp;'life1 mut <a class="struct" href="../fedimint_core/db/struct.DatabaseTransaction.html" title="struct fedimint_core::db::DatabaseTransaction">DatabaseTransaction</a>&lt;'life2&gt;,
    _unit: <a class="struct" href="../fedimint_core/module/struct.AmountUnit.html" title="struct fedimint_core::module::AmountUnit">AmountUnit</a>,
) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="struct" href="../fedimint_core/amount/struct.Amount.html" title="struct fedimint_core::amount::Amount">Amount</a>&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;<div class="where">where
    'life0: 'async_trait,
    'life1: 'async_trait,
    'life2: 'async_trait,
    Self: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait,</div></h4></section></summary><div class="docblock"><p>Returns the balance held by this module and available for funding
transactions.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.get_balances" class="method"><a class="src rightside" href="../src/fedimint_client_module/module/mod.rs.html#742">Source</a><h4 class="code-header">fn <a href="#method.get_balances" class="fn">get_balances</a>&lt;'life0, 'life1, 'life2, 'async_trait&gt;(
    &amp;'life0 self,
    _dbtx: &amp;'life1 mut <a class="struct" href="../fedimint_core/db/struct.DatabaseTransaction.html" title="struct fedimint_core::db::DatabaseTransaction">DatabaseTransaction</a>&lt;'life2&gt;,
) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="struct" href="../fedimint_core/module/struct.Amounts.html" title="struct fedimint_core::module::Amounts">Amounts</a>&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;<div class="where">where
    'life0: 'async_trait,
    'life1: 'async_trait,
    'life2: 'async_trait,
    Self: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait,</div></h4></section></summary><div class="docblock"><p>Returns the balance held by this module and available for funding
transactions.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.subscribe_balance_changes" class="method"><a class="src rightside" href="../src/fedimint_client_module/module/mod.rs.html#742">Source</a><h4 class="code-header">fn <a href="#method.subscribe_balance_changes" class="fn">subscribe_balance_changes</a>&lt;'life0, 'async_trait&gt;(
    &amp;'life0 self,
) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="struct" href="https://doc.rust-lang.org/nightly/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn Stream&lt;Item = <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a>&gt;&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;<div class="where">where
    'life0: 'async_trait,
    Self: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait,</div></h4></section></summary><div class="docblock"><p>Returns a stream that will output the updated module balance each time
it changes.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.leave" class="method"><a class="src rightside" href="../src/fedimint_client_module/module/mod.rs.html#742">Source</a><h4 class="code-header">fn <a href="#method.leave" class="fn">leave</a>&lt;'life0, 'life1, 'life2, 'async_trait&gt;(
    &amp;'life0 self,
    _dbtx: &amp;'life1 mut <a class="struct" href="../fedimint_core/db/struct.DatabaseTransaction.html" title="struct fedimint_core::db::DatabaseTransaction">DatabaseTransaction</a>&lt;'life2&gt;,
) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>, <a class="struct" href="https://docs.rs/anyhow/1.0.98/anyhow/struct.Error.html" title="struct anyhow::Error">Error</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;<div class="where">where
    'life0: 'async_trait,
    'life1: 'async_trait,
    'life2: 'async_trait,
    Self: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait,</div></h4></section></summary><div class="docblock"><p>Leave the federation</p>
<p>While technically there’s nothing stopping the client from just
abandoning Federation at any point by deleting all the related
local data, it is useful to make sure it’s safe beforehand.</p>
<p>This call indicates the desire of the caller client code
to orderly and safely leave the Federation by this module instance.
The goal of the implementations is to fulfil that wish,
giving prompt and informative feedback if it’s not yet possible.</p>
<p>The client module implementation should handle the request
and return as fast as possible avoiding blocking for longer than
necessary. This would usually involve some combination of:</p>
<ul>
<li>recording the state of being in process of leaving the Federation to
prevent initiating new conditions that could delay its completion;</li>
<li>performing any fast to complete cleanup/exit logic;</li>
<li>initiating any time-consuming logic (e.g. canceling outstanding
contracts), as background jobs, tasks machines, etc.</li>
<li>checking for any conditions indicating it might not be safe to leave
at the moment.</li>
</ul>
<p>This function should return <code>Ok</code> only if from the perspective
of this module instance, it is safe to delete client data and
stop using it, with no further actions (like background jobs) required
to complete.</p>
<p>This function should return an error if it’s not currently possible
to safely (e.g. without losing funds) leave the Federation.
It should avoid running indefinitely trying to complete any cleanup
actions necessary to reach a clean state, preferring spawning new
state machines and returning an informative error about cleanup
still in progress.</p>
<p>If any internal task needs to complete, any user action is required,
or even external condition needs to be met this function
should return a <code>Err</code>.</p>
<p>Notably modules should not disable interaction that might be necessary
for the user (possibly through other modules) to leave the Federation.
In particular a Mint module should retain ability to create new notes,
and LN module should retain ability to send funds out.</p>
<p>Calling code must NOT assume that a module that once returned <code>Ok</code>,
will not return <code>Err</code> at later point. E.g. a Mint module might have
no outstanding balance at first, but other modules winding down
might “cash-out” to Ecash.</p>
<p>Before leaving the Federation and deleting any state the calling code
must collect a full round of <code>Ok</code> from all the modules.</p>
<p>Calling code should allow the user to override and ignore any
outstanding errors, after sufficient amount of warnings. Ideally,
this should be done on per-module basis, to avoid mistakes.</p>
</div></details></div><h2 id="dyn-compatibility" class="section-header">Dyn Compatibility<a href="#dyn-compatibility" class="anchor">§</a></h2><div class="dyn-compatibility-info"><p>This trait is <b>not</b> <a href="https://doc.rust-lang.org/nightly/reference/items/traits.html#dyn-compatibility">dyn compatible</a>.</p><p><i>In older versions of Rust, dyn compatibility was called "object safety", so this trait is not object safe.</i></p></div><h2 id="implementors" class="section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"></div><script src="../trait.impl/fedimint_client_module/module/trait.ClientModule.js" async></script></section></div></main></body></html>